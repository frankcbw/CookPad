{"ast":null,"code":"import _toConsumableArray from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./addRecipe.css';import Navbar from\"../Navbar/navbar.component\";import Dropdown from'react-dropdown';import Container from\"@material-ui/core/Container\";import{Multiselect}from'multiselect-react-dropdown';import ImageUploader from'react-images-upload';import'react-dropdown/style.css';import Col from'react-bootstrap/Col';var UnitType=['(quantity)','kg','g','mg','cup(s)','teaspoon(s)','tablespoon(s)','mL','L','oz','lb(s)'];var defaultUnit=UnitType[0];var AddRecipe=/*#__PURE__*/function(_Component){_inherits(AddRecipe,_Component);var _super=_createSuper(AddRecipe);function AddRecipe(props){var _this;_classCallCheck(this,AddRecipe);_this=_super.call(this,props);_this.onChangeRecipeName=function(e){e.preventDefault();_this.setState({RecipeName:e.target.value});};_this.onChangeDescription=function(e){e.preventDefault();_this.setState({Description:e.target.value});};_this.onChangeIngredientsName=function(e,index){var ingredients=_this.state.Ingredients;ingredients[index].name=e.target.value;_this.setState({Ingredients:ingredients});};_this.onChangeIngredientsQuan=function(e,index){var ingredients=_this.state.Ingredients;ingredients[index].quantity=e.target.value;_this.setState({Ingredients:ingredients});};_this.addIngredientsRow=function(){_this.setState(function(prevState){return{Ingredients:[].concat(_toConsumableArray(prevState.Ingredients),[{name:\"\",age:\"\",unit:\"\"}])};});};_this.onChangeRemoveIngredients=function(index){_this.state.Ingredients.splice(index,1);_this.setState({Ingredients:_this.state.Ingredients});};_this.onChangeSteps=function(e,index){var steps=_this.state.Steps;steps[index]=e.target.value;_this.setState({Steps:steps});};_this.addStepsRow=function(){_this.setState(function(prevState){return{Steps:[].concat(_toConsumableArray(prevState.Steps),[\"\"])};});};_this.onChangeRemoveSteps=function(index){_this.state.Steps.splice(index,1);_this.setState({Steps:_this.state.Steps});};_this.onImageUpload=function(picture){_this.setState({RecipeImages:_this.state.RecipeImages.concat(picture)});};_this.onSubmit=function(e){e.preventDefault();// push the recipe to the server\n// pushing to database requires server call\nwindow.location=\"/homepage/\"+_this.state.uid;};_this.state={uid:_this.props.match.params.uid,RecipeName:'',Description:'',Ingredients:[{name:\"\",quantity:\"\",unit:\"\"}],Steps:[],RecipeImages:[],CuisineTypes:[{name:\"Cake\",id:0},{name:\"Noodles\",id:1},{name:\"Pie\",id:2},{name:\"Pizza\",id:3},{name:\"Salads\",id:4},{name:\"Sandwiches\",id:5},{name:\"Seafood\",id:6},{name:\"Soup\",id:7}]};return _this;}_createClass(AddRecipe,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{uid:this.state.uid}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit,className:\"add-recipe\"},/*#__PURE__*/React.createElement(\"b\",null,\"Create A Recipe\"),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Name\",required:true,placeholder:\"Your Recipe Name\",className:\"form-control\",value:this.state.RecipeName,onChange:this.onChangeRecipeName})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Description: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Description\",placeholder:\"optional\",className:\"form-control\",value:this.state.Description,onChange:this.onChangeDescription})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Cuisine Type: \"),/*#__PURE__*/React.createElement(Multiselect,{placeholder:\"Select cuisine type(s)\",options:this.state.CuisineTypes,selectedValues:this.state.selectedValue,onSelect:this.onSelect,onRemove:this.onRemove,displayValue:\"name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"Ingredient-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Ingredients: \"),this.state.Ingredients.map(function(Ingredient,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",id:\"Ingredient-row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:5},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"name\",className:\"form-control\",value:Ingredient.name,onChange:function onChange(e){return _this2.onChangeIngredientsName(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:2},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"quantity\",className:\"form-control\",value:Ingredient.quantity,onChange:function onChange(e){return _this2.onChangeIngredientsQuan(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:3},/*#__PURE__*/React.createElement(Dropdown,{className:\"UnitSelector\",options:UnitType,onChange:_this2._onSelect,placeholder:defaultUnit,value:Ingredient.unit})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:1},/*#__PURE__*/React.createElement(\"button\",{id:\"remove-ingredient\",type:\"button\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveIngredients(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddIngredient-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-ingredient\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addIngredientsRow},\"Add Ingredients\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Step-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Steps: \"),this.state.Steps.map(function(step,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:10},/*#__PURE__*/React.createElement(\"textarea\",{type:\"Steps\",required:true,placeholder:\"Enter a step\",className:\"form-control\",value:step,onChange:function onChange(e){return _this2.onChangeSteps(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{id:\"remove-step\",type:\"button\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveSteps(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddSteps-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-step\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addStepsRow},\"Add Steps\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Please upload a picture of your recipe: \"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ImageUploader,{withIcon:false,withPreview:true,singleImage:true,buttonText:\"Upload a picture for your recipe\",onChange:this.onImageUpload,imgExtension:['.jpg','.png','.JPG','.PNG'],maxFileSize:5242880}))),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"Submit\",value:\"Submit New Recipe\",className:\"btn btn-primary\"})))));}}]);return AddRecipe;}(Component);export{AddRecipe as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/addRecipe/addRecipe.component.js"],"names":["React","Component","Navbar","Dropdown","Container","Multiselect","ImageUploader","Col","UnitType","defaultUnit","AddRecipe","props","onChangeRecipeName","e","preventDefault","setState","RecipeName","target","value","onChangeDescription","Description","onChangeIngredientsName","index","ingredients","state","Ingredients","name","onChangeIngredientsQuan","quantity","addIngredientsRow","prevState","age","unit","onChangeRemoveIngredients","splice","onChangeSteps","steps","Steps","addStepsRow","onChangeRemoveSteps","onImageUpload","picture","RecipeImages","concat","onSubmit","window","location","uid","match","params","CuisineTypes","id","selectedValue","onSelect","onRemove","map","Ingredient","_onSelect","step"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './addRecipe.css'\nimport Navbar from \"../Navbar/navbar.component\";\nimport Dropdown from 'react-dropdown';\nimport Container from \"@material-ui/core/Container\"\nimport {Multiselect} from 'multiselect-react-dropdown';\nimport ImageUploader from 'react-images-upload';\nimport 'react-dropdown/style.css';\nimport Col from 'react-bootstrap/Col';\n\nconst UnitType = ['(quantity)','kg', 'g','mg', 'cup(s)', 'teaspoon(s)', 'tablespoon(s)', 'mL', 'L', 'oz', 'lb(s)'];\n\nconst defaultUnit = UnitType[0];\n\nexport default class AddRecipe extends Component {\n    constructor(props){\n        super(props);\n        \n        this.state = {\n            uid: this.props.match.params.uid,\n            RecipeName: '',\n            Description: '',\n            Ingredients: [{name:\"\", quantity:\"\", unit:\"\"}],\n            Steps:[],\n            RecipeImages: [],\n            CuisineTypes :[\n                {name: \"Cake\", id: 0},\n                {name: \"Noodles\", id: 1},\n                {name: \"Pie\", id: 2},\n                {name: \"Pizza\", id: 3},\n                {name: \"Salads\", id: 4},\n                {name: \"Sandwiches\", id: 5},\n                {name: \"Seafood\", id: 6},\n                {name: \"Soup\", id: 7}\n            ]\n        }\n    }\n\n    onChangeRecipeName = (e) =>{\n        e.preventDefault();\n        this.setState({ RecipeName: e.target.value });\n    }\n\n    onChangeDescription = (e) =>{\n        e.preventDefault();\n        this.setState({ Description: e.target.value });\n    }\n\n    onChangeIngredientsName = (e,index)=>{\n        let ingredients = this.state.Ingredients;\n        ingredients[index].name = e.target.value;\n        this.setState({ Ingredients: ingredients });\n    }\n\n    onChangeIngredientsQuan=(e,index)=>{\n        let ingredients = this.state.Ingredients;\n        ingredients[index].quantity = e.target.value;\n        this.setState({ Ingredients: ingredients });\n    }\n\n    addIngredientsRow=()=>{\n       this.setState((prevState)=>({Ingredients:[...prevState.Ingredients, {name: \"\", age:\"\", unit:\"\"}],\n        }));\n    }\n\n    onChangeRemoveIngredients=(index)=>{\n        this.state.Ingredients.splice(index,1);\n        this.setState({Ingredients: this.state.Ingredients})\n    }\n\n    onChangeSteps=(e,index)=>{\n        let steps = this.state.Steps;\n        steps[index] = e.target.value;\n        this.setState({ Steps: steps });\n    }\n\n    addStepsRow=()=>{\n        this.setState((prevState)=>({Steps:[...prevState.Steps, \"\"],\n        }));\n    }\n\n    onChangeRemoveSteps=(index)=>{\n        this.state.Steps.splice(index,1);\n        this.setState({Steps: this.state.Steps})\n    }\n\n    onImageUpload=(picture)=>{\n        this.setState({RecipeImages: this.state.RecipeImages.concat(picture),});\n    }\n\n    onSubmit=(e)=>{\n        e.preventDefault();\n        // push the recipe to the server\n        // pushing to database requires server call\n        window.location = \"/homepage/\" + this.state.uid;\n    }\n\n    render(){ \n        return(\n            <div>\n            \n            <Container maxWidth='md'>\n                <Navbar uid={this.state.uid}/>\n                <form onSubmit = {this.onSubmit} className=\"add-recipe\">\n                    <b>Create A Recipe</b>\n                    <div className = \"Recipe-form\">\n                        <label> Recipe Name: </label>\n                        <input \n                            type = \"Name\" \n                            required \n                            placeholder=\"Your Recipe Name\" \n                            className = \"form-control\" \n                            value = {this.state.RecipeName} \n                            onChange={this.onChangeRecipeName}\n                        />\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label> Recipe Description: </label>\n                        <input \n                            type = \"Description\" \n                            placeholder=\"optional\" \n                            className = \"form-control\" \n                            value = {this.state.Description} \n                            onChange={this.onChangeDescription}\n                        />\n                    </div>\n                    <div className=\"Recipe-form\">\n                        <label>Cuisine Type: </label>\n                        <Multiselect\n                            placeholder = \"Select cuisine type(s)\"\n                            options={this.state.CuisineTypes} \n                            selectedValues={this.state.selectedValue} \n                            onSelect={this.onSelect} \n                            onRemove={this.onRemove} \n                            displayValue=\"name\" \n                        />\n                    </div>\n                    <div className = \"Ingredient-form\" >\n                        <label> Recipe Ingredients: </label>\n                         {\n                            this.state.Ingredients.map((Ingredient, index) => {\n                                return(\n                                    <div className=\"row\" id=\"Ingredient-row\" key={index}>\n                                        <Col className=\"col\" xs={5}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"name\"\n                                                className = \"form-control\"\n                                                value = {Ingredient.name} \n                                                onChange={(e)=>this.onChangeIngredientsName(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={2}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"quantity\"\n                                                className = \"form-control\" \n                                                value = {Ingredient.quantity} \n                                                onChange={(e)=>this.onChangeIngredientsQuan(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={3}>\n                                            <Dropdown\n                                                className = \"UnitSelector\"\n                                                options={UnitType} \n                                                onChange={this._onSelect} \n                                                placeholder ={defaultUnit}\n                                                value={Ingredient.unit} \n                                            />\n                                        </Col>\n                                        <Col className =\"col\" xs={1}>\n                                            <button \n                                                id=\"remove-ingredient\"\n                                                type=\"button\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveIngredients(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        } \n                    </div>\n                    <div className=\"AddIngredient-btn\">\n                        <button id=\"add-ingredient\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addIngredientsRow} >\n                            Add Ingredients\n                        </button>\n                    </div>\n                    <div className = \"Step-form\">\n                        <label> Recipe Steps: </label>\n                        {\n                            this.state.Steps.map((step, index) => {\n                                return(\n                                    <div className=\"row\" key={index}>\n                                        <Col className = \"col\" xs = {10}>\n                                            <textarea \n                                                type = \"Steps\" \n                                                required \n                                                placeholder=\"Enter a step\"\n                                                className = \"form-control\" \n                                                value = {step} \n                                                onChange={(e)=>this.onChangeSteps(e,(index))}\n                                            />\n                                        </Col>\n                                        <Col className =\"col\">\n                                            <button \n                                                id=\"remove-step\"\n                                                type=\"button\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveSteps(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        }\n                        \n                    </div>\n                    <div className=\"AddSteps-btn\">\n                        <button id = \"add-step\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addStepsRow} >\n                            Add Steps\n                        </button> \n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label>Please upload a picture of your recipe: </label>\n                        <div>\n                            <ImageUploader\n                                withIcon = {false}\n                                withPreview = {true}\n                                singleImage = {true}\n                                buttonText = 'Upload a picture for your recipe'\n                                onChange={this.onImageUpload}\n                                imgExtension={['.jpg', '.png', '.JPG', '.PNG']}\n                                maxFileSize={5242880}\n                            />\n                        </div>\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <input \n                            type = \"Submit\" \n                            value = \"Submit New Recipe\" \n                            className = \"btn btn-primary\" \n                        />\n                    </div>\n                </form>\n            </Container>\n            </div>\n        )\n    }\n} \n"]},"metadata":{},"sourceType":"module"}