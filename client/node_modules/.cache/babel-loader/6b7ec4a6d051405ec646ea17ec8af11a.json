{"ast":null,"code":"import _regeneratorRuntime from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from\"axios\";import'./addRecipe.css';import Navbar from\"../Navbar/navbar.component\";import Dropdown from'react-dropdown';import Container from\"@material-ui/core/Container\";import{Multiselect}from'multiselect-react-dropdown';import ImageUploader from'react-images-upload';import'react-dropdown/style.css';import Col from'react-bootstrap/Col';import{addRecipe}from\"../../actions/recipe\";var UnitType=['(quantity)','kg','g','mg','cup(s)','teaspoon(s)','tablespoon(s)','mL','L','oz','lb(s)'];var defaultUnit=UnitType[0];var AddRecipe=/*#__PURE__*/function(_Component){_inherits(AddRecipe,_Component);var _super=_createSuper(AddRecipe);function AddRecipe(props){var _this;_classCallCheck(this,AddRecipe);_this=_super.call(this,props);_this.onChangeRecipeName=function(e){e.preventDefault();_this.setState({name:e.target.value});};_this.onChangeDescription=function(e){e.preventDefault();_this.setState({description:e.target.value});};_this.onChangeIngredientsName=function(e,index){var newIngredients=_this.state.ingredients;newIngredients[index].name=e.target.value;_this.setState({ingredients:newIngredients});};_this.onChangeIngredientsQuan=function(e,index){var newIngredients=_this.state.ingredients;newIngredients[index].quantity=e.target.value;_this.setState({ingredients:newIngredients});};_this.addIngredientsRow=function(){_this.setState(function(prevState){return{ingredients:[].concat(_toConsumableArray(prevState.ingredients),[{name:\"\",age:\"\",unit:\"\"}])};});};_this.onChangeRemoveIngredients=function(index){var NewIngredients=_this.state.ingredients;NewIngredients.splice(index,1);_this.setState({ingredients:NewIngredients});};_this.onChangeSteps=function(e,index){var newSteps=_this.state.steps;newSteps[index]=e.target.value;_this.setState({steps:newSteps});};_this.addStepsRow=function(){_this.setState(function(prevState){return{steps:[].concat(_toConsumableArray(prevState.steps),[\"\"])};});};_this.onChangeRemoveSteps=function(index){_this.state.steps.splice(index,1);_this.setState({steps:_this.state.steps});};_this.onImageUpload=function(picture){_this.setState({filePath:_this.state.filePath.concat(picture)});};_this.onSelect=function(selectedList){_this.setState({categories:selectedList.id});console.log(_this.state.categories);};_this.onRemove=function(selectedList){_this.setState({categories:selectedList});};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,app){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();addRecipe(_assertThisInitialized(_this),app);// push the recipe to the server, use the filepath and filename\n_this.props.history.push(\"/homepage\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.props.history.push(\"/addrecipe\");_this.state={creator:_this.props.app.state.currentUser._id,name:'',description:'',ingredients:[{name:\"\",quantity:\"\",unit:\"\"}],steps:[],creatorId:'',creatorUsername:'',filePath:'',categories:[],categoriesOptions:[{name:\"Cake\",id:0},{name:\"Noodles\",id:1},{name:\"Pie\",id:2},{name:\"Pizza\",id:3},{name:\"Salads\",id:4},{name:\"Sandwiches\",id:5},{name:\"Seafood\",id:6},{name:\"Soup\",id:7}]};return _this;}_createClass(AddRecipe,[{key:\"render\",value:function render(){var _this2=this;var app=this.props.app;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{app:app}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit,className:\"add-recipe\"},/*#__PURE__*/React.createElement(\"b\",null,\"Create A Recipe\"),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Name\",required:true,placeholder:\"Your Recipe Name\",className:\"form-control\",value:this.state.name,onChange:this.onChangeRecipeName})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Description: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Description\",placeholder:\"optional\",className:\"form-control\",value:this.state.description,onChange:this.onChangeDescription})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Cuisine Type: \"),/*#__PURE__*/React.createElement(Multiselect,{placeholder:\"Select cuisine type(s)\",options:this.state.categoriesOptions,selectedValues:this.state.categories,onSelect:this.onSelect,onRemove:this.onRemove,displayValue:\"name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"Ingredient-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Ingredients: \"),this.state.ingredients.map(function(Ingredient,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",id:\"Ingredient-row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:5},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"name\",className:\"form-control\",value:Ingredient.name,onChange:function onChange(e){return _this2.onChangeIngredientsName(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:2},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"quantity\",className:\"form-control\",value:Ingredient.quantity,onChange:function onChange(e){return _this2.onChangeIngredientsQuan(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:3},/*#__PURE__*/React.createElement(Dropdown,{className:\"UnitSelector\",options:UnitType,onChange:_this2._onSelect,placeholder:defaultUnit,value:Ingredient.unit})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:1},/*#__PURE__*/React.createElement(\"button\",{id:\"remove-ingredient\",type:\"button\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveIngredients(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddIngredient-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-ingredient\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addIngredientsRow},\"Add Ingredients\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Step-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Steps: \"),this.state.steps.map(function(step,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:10},/*#__PURE__*/React.createElement(\"textarea\",{type:\"Steps\",required:true,placeholder:\"Enter a step\",className:\"form-control\",value:step,onChange:function onChange(e){return _this2.onChangeSteps(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{id:\"remove-step\",type:\"button\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveSteps(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddSteps-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-step\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addStepsRow},\"Add Steps\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Please upload a picture of your recipe: \"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ImageUploader,{withIcon:false,withPreview:true,singleImage:true,buttonText:\"Upload a picture for your recipe\",onChange:this.onImageUpload,imgExtension:['.jpg','.png','.JPG','.PNG'],maxFileSize:5242880}))),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"Submit\",value:\"Submit New Recipe\",className:\"btn btn-primary\"})))));}}]);return AddRecipe;}(Component);export{AddRecipe as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/addRecipe/addRecipe.component.js"],"names":["React","Component","axios","Navbar","Dropdown","Container","Multiselect","ImageUploader","Col","addRecipe","UnitType","defaultUnit","AddRecipe","props","onChangeRecipeName","e","preventDefault","setState","name","target","value","onChangeDescription","description","onChangeIngredientsName","index","newIngredients","state","ingredients","onChangeIngredientsQuan","quantity","addIngredientsRow","prevState","age","unit","onChangeRemoveIngredients","NewIngredients","splice","onChangeSteps","newSteps","steps","addStepsRow","onChangeRemoveSteps","onImageUpload","picture","filePath","concat","onSelect","selectedList","categories","id","console","log","onRemove","onSubmit","app","history","push","creator","currentUser","_id","creatorId","creatorUsername","categoriesOptions","map","Ingredient","_onSelect","step"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from \"axios\";\nimport './addRecipe.css'\nimport Navbar from \"../Navbar/navbar.component\";\nimport Dropdown from 'react-dropdown';\nimport Container from \"@material-ui/core/Container\"\nimport {Multiselect} from 'multiselect-react-dropdown';\nimport ImageUploader from 'react-images-upload';\nimport 'react-dropdown/style.css';\nimport Col from 'react-bootstrap/Col';\n\nimport {addRecipe} from \"../../actions/recipe\"\n\nconst UnitType = ['(quantity)','kg', 'g','mg', 'cup(s)', 'teaspoon(s)', 'tablespoon(s)', 'mL', 'L', 'oz', 'lb(s)'];\n\nconst defaultUnit = UnitType[0];\n\nexport default class AddRecipe extends Component {\n    constructor(props){\n        super(props);\n        this.props.history.push(\"/addrecipe\");\n        this.state = {\n            creator: this.props.app.state.currentUser._id,\n            name: '',\n            description: '',\n            ingredients: [{name:\"\", quantity:\"\", unit:\"\"}],\n            steps:[],\n            creatorId: '',\n            creatorUsername: '',\n            filePath: '',\n            categories:[],\n            categoriesOptions :[\n                {name: \"Cake\", id: 0},\n                {name: \"Noodles\", id: 1},\n                {name: \"Pie\", id: 2},\n                {name: \"Pizza\", id: 3},\n                {name: \"Salads\", id: 4},\n                {name: \"Sandwiches\", id: 5},\n                {name: \"Seafood\", id: 6},\n                {name: \"Soup\", id: 7}\n            ]\n        }\n    }\n\n    onChangeRecipeName = (e) =>{\n        e.preventDefault();\n        this.setState({ name: e.target.value });\n    }\n\n    onChangeDescription = (e) =>{\n        e.preventDefault();\n        this.setState({ description: e.target.value });\n    }\n\n    onChangeIngredientsName = (e,index)=>{\n        const newIngredients = this.state.ingredients;\n        newIngredients[index].name = e.target.value;\n        this.setState({ ingredients: newIngredients });\n    }\n\n    onChangeIngredientsQuan=(e,index)=>{\n        const newIngredients = this.state.ingredients;\n        newIngredients[index].quantity = e.target.value;\n        this.setState({ ingredients: newIngredients });\n    }\n\n    addIngredientsRow=()=>{\n       this.setState((prevState)=>({ingredients:[...prevState.ingredients, {name: \"\", age:\"\", unit:\"\"}],\n        }));\n    }\n\n    onChangeRemoveIngredients=(index)=>{\n        const NewIngredients = this.state.ingredients\n        NewIngredients.splice(index,1);\n        this.setState({ingredients: NewIngredients})\n    }\n\n    onChangeSteps=(e,index)=>{\n        const newSteps = this.state.steps;\n        newSteps[index] = e.target.value;\n        this.setState({ steps: newSteps });\n    }\n\n    addStepsRow=()=>{\n        this.setState((prevState)=>({steps:[...prevState.steps, \"\"],\n        }));\n    }\n\n    onChangeRemoveSteps=(index)=>{\n        this.state.steps.splice(index,1);\n        this.setState({steps: this.state.steps})\n    }\n\n    onImageUpload=(picture)=>{\n        this.setState({filePath: this.state.filePath.concat(picture)});\n    }\n\n    onSelect=(selectedList)=>{\n        this.setState({categories: selectedList.id})\n        console.log(this.state.categories)\n    }\n     \n    onRemove=(selectedList)=>{\n        this.setState({categories: selectedList})\n    }\n\n    onSubmit=async(e,app)=>{\n        e.preventDefault();\n        addRecipe(this,app);\n        // push the recipe to the server, use the filepath and filename\n        this.props.history.push(\"/homepage\");\n    }\n\n    render(){ \n        const { app } = this.props;\n\n        return(\n            <div>\n            <Container maxWidth='md'>\n                <Navbar app={app}/>\n                <form onSubmit = {this.onSubmit} className=\"add-recipe\">\n                    <b>Create A Recipe</b>\n                    <div className = \"Recipe-form\">\n                        <label> Recipe Name: </label>\n                        <input \n                            type = \"Name\" \n                            required \n                            placeholder=\"Your Recipe Name\" \n                            className = \"form-control\" \n                            value = {this.state.name} \n                            onChange={this.onChangeRecipeName}\n                        />\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label> Recipe Description: </label>\n                        <input \n                            type = \"Description\" \n                            placeholder=\"optional\" \n                            className = \"form-control\" \n                            value = {this.state.description} \n                            onChange={this.onChangeDescription}\n                        />\n                    </div>\n                    <div className=\"Recipe-form\">\n                        <label>Cuisine Type: </label>\n                        <Multiselect\n                            placeholder = \"Select cuisine type(s)\"\n                            options={this.state.categoriesOptions} \n                            selectedValues={this.state.categories} \n                            onSelect={this.onSelect} \n                            onRemove={this.onRemove}\n                            displayValue=\"name\" \n                        />    \n                    </div>\n                    <div className = \"Ingredient-form\" >\n                        <label> Recipe Ingredients: </label>\n                         {\n                            this.state.ingredients.map((Ingredient, index) => {\n                                return(\n                                    <div className=\"row\" id=\"Ingredient-row\" key={index}>\n                                        <Col className=\"col\" xs={5}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"name\"\n                                                className = \"form-control\"\n                                                value = {Ingredient.name} \n                                                onChange={(e)=>this.onChangeIngredientsName(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={2}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"quantity\"\n                                                className = \"form-control\" \n                                                value = {Ingredient.quantity} \n                                                onChange={(e)=>this.onChangeIngredientsQuan(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={3}>\n                                            <Dropdown\n                                                className = \"UnitSelector\"\n                                                options={UnitType} \n                                                onChange={this._onSelect} \n                                                placeholder ={defaultUnit}\n                                                value={Ingredient.unit} \n                                            />\n                                        </Col>\n                                        <Col className =\"col\" xs={1}>\n                                            <button \n                                                id=\"remove-ingredient\"\n                                                type=\"button\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveIngredients(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        } \n                    </div>\n                    <div className=\"AddIngredient-btn\">\n                        <button id=\"add-ingredient\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addIngredientsRow} >\n                            Add Ingredients\n                        </button>\n                    </div>\n                    <div className = \"Step-form\">\n                        <label> Recipe Steps: </label>\n                        {\n                            this.state.steps.map((step, index) => {\n                                return(\n                                    <div className=\"row\" key={index}>\n                                        <Col className = \"col\" xs = {10}>\n                                            <textarea \n                                                type = \"Steps\" \n                                                required \n                                                placeholder=\"Enter a step\"\n                                                className = \"form-control\" \n                                                value = {step} \n                                                onChange={(e)=>this.onChangeSteps(e,(index))}\n                                            />\n                                        </Col>\n                                        <Col className =\"col\">\n                                            <button \n                                                id=\"remove-step\"\n                                                type=\"button\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveSteps(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        }\n                        \n                    </div>\n                    <div className=\"AddSteps-btn\">\n                        <button id = \"add-step\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addStepsRow} >\n                            Add Steps\n                        </button> \n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label>Please upload a picture of your recipe: </label>\n                        <div>\n                            <ImageUploader\n                                withIcon = {false}\n                                withPreview = {true}\n                                singleImage = {true}\n                                buttonText = 'Upload a picture for your recipe'\n                                onChange={this.onImageUpload}\n                                imgExtension={['.jpg', '.png', '.JPG', '.PNG']}\n                                maxFileSize={5242880}\n                            />\n                        </div>\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <input \n                            type = \"Submit\" \n                            value = \"Submit New Recipe\" \n                            className = \"btn btn-primary\" \n                        />\n                    </div>\n                </form>\n            </Container>\n            </div>\n        )\n    }\n} \n"]},"metadata":{},"sourceType":"module"}