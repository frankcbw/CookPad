{"ast":null,"code":"import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import Avatar from'react-avatar-edit';import{signup}from\"../../actions/user\";import Container from\"@material-ui/core/Container\";import cookpadIcon from'../homePage/images/cookpad.png';import'./signup.css';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.onChangeUsername=function(e){e.preventDefault();_this.setState({username:e.target.value});};_this.onChangePassword=function(e){e.preventDefault();_this.setState({password:e.target.value});};_this.onImageLoad=function(img){_this.setState({profilePic:img});console.log(img);};_this.onClose=function(){_this.setState({preview:null});};_this.onCrop=function(preview){var img=new Blob([preview],{type:\"image/png\"});_this.setState({profilePic:img});console.log(_this.state.profilePic);};_this.onChangeDescription=function(e){e.preventDefault();_this.setState({description:e.target.value});};_this.onSubmit=function(e,app){e.preventDefault();// create a new user object and \n// requires server calls to push the user to backend database\nif(_this.validator()){signup(_assertThisInitialized(_this),app);_this.props.history.push(\"/login\");}console.log(_this.state);};_this.props.history.push(\"/signup\");_this.state={username:'',password:'',profilePic:null,description:''};return _this;}_createClass(Signup,[{key:\"validator\",value:function validator(){var isValid=true;if(this.state.username.length<1){isValid=false;alert(\"Username cannot be empty\");return isValid;}if(this.state.password.length<4){isValid=false;alert(\"Password needs a minimum length of 4\");return isValid;}return isValid;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"signup-page\"},/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo\"},/*#__PURE__*/React.createElement(\"img\",{src:cookpadIcon,alt:\"cookpad\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},\"COOKPAD\")),/*#__PURE__*/React.createElement(\"form\",{className:\"signup-form\",onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\",id:\"upload-pic\"},/*#__PURE__*/React.createElement(Avatar,{width:420,height:250,round:true,label:\"Choose a profile picture\",onFileLoad:this.onImageLoad,onCrop:this.onCrop,onClose:this.onClose,src:this.state.profilePic})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Username: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"username\",required:true,placeholder:\"E.g: 123\",className:\"form-control\",value:this.state.username,onChange:this.onChangeUsername})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",required:true,placeholder:\"Your Password\",className:\"form-control\",value:this.state.password,onChange:this.onChangePassword})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Description: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"description\",placeholder:\"Personal Description (Optional)\",className:\"form-control\",value:this.state.description,onChange:this.onChangeDescription})),/*#__PURE__*/React.createElement(\"div\",{id:\"signup-button\",className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Signup\",className:\"btn btn-primary\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"link-signup\"},\"Already have an account?\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Log in here\"),/*#__PURE__*/React.createElement(\"br\",null))));}}]);return Signup;}(Component);export{Signup as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/signup/signup.component.js"],"names":["React","Component","Link","Avatar","signup","Container","cookpadIcon","Signup","props","onChangeUsername","e","preventDefault","setState","username","target","value","onChangePassword","password","onImageLoad","img","profilePic","console","log","onClose","preview","onCrop","Blob","type","state","onChangeDescription","description","onSubmit","app","validator","history","push","isValid","length","alert"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport Avatar from 'react-avatar-edit';\nimport {signup} from \"../../actions/user\";\nimport Container from \"@material-ui/core/Container\"\nimport cookpadIcon from '../homePage/images/cookpad.png'\nimport './signup.css'\n\nexport default class Signup extends Component {\n    constructor(props){\n        super(props);     \n        this.props.history.push(\"/signup\");   \n        this.state = {\n            username: '',\n            password: '',\n            profilePic: null,\n            description: ''\n        }\n    }\n\n    onChangeUsername = (e)=>{\n        e.preventDefault();\n        this.setState({ username: e.target.value });\n    }\n     \n    onChangePassword = (e)=>{\n        e.preventDefault();\n        this.setState({ password: e.target.value });\n    }\n\n    onImageLoad=(img)=>{\n        this.setState({profilePic: img});\n        console.log(img)\n    }\n\n    onClose=()=>{\n        this.setState({preview: null})\n    }\n      \n    onCrop=(preview)=>{\n        const img = new Blob([preview], {type: \"image/png\"})\n        \n        this.setState({profilePic: img})\n        console.log(this.state.profilePic)\n    }\n\n    onChangeDescription = (e)=>{\n        e.preventDefault();\n        this.setState({ description: e.target.value });\n    }\n\n    onSubmit=(e, app)=>{\n        e.preventDefault();\n        \n        // create a new user object and \n        // requires server calls to push the user to backend database\n        if (this.validator()){\n            signup(this, app);\n            this.props.history.push(\"/login\");\n        }\n        console.log(this.state)\n    }\n\n    validator(){\n        let isValid = true;\n        \n        if (this.state.username.length < 1){\n            isValid = false;\n            alert(\"Username cannot be empty\");\n            return isValid;\n        }\n        if (this.state.password.length < 4){\n            isValid = false;\n            alert(\"Password needs a minimum length of 4\");\n            return isValid;\n        }\n        return isValid;\n    }\n\n    render(){\n        return(\n            <div className=\"signup-page\">\n            <Container maxWidth='md'> \n                <div className = \"logo\">\n                    <img src={cookpadIcon} alt=\"cookpad\"/>\n                    <span className = \"name\">COOKPAD</span>\n                </div>\n                <form className=\"signup-form\" onSubmit={this.onSubmit}>\n                    <div className=\"form-group\" id=\"upload-pic\">\n                        <Avatar \n                            width={420}\n                            height={250} \n                            round={true}\n                            label={\"Choose a profile picture\"}\n                            onFileLoad={this.onImageLoad}\n                            onCrop={this.onCrop}\n                            onClose={this.onClose}\n                            src={this.state.profilePic}\n                        /> \n                    </div> \n                    <div className=\"form-group\">\n                        <label>Username: </label>\n                        <input type=\"username\" required placeholder=\"E.g: 123\" className=\"form-control\" value={this.state.username} onChange={this.onChangeUsername}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Password: </label>\n                        <input type=\"password\" required placeholder=\"Your Password\" className=\"form-control\" value={this.state.password} onChange={this.onChangePassword}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Description: </label>\n                        <input type=\"description\" placeholder=\"Personal Description (Optional)\" className=\"form-control\" value={this.state.description} onChange={this.onChangeDescription}/>\n                    </div>\n                    <div id=\"signup-button\" className=\"form-group\">\n                        <input type=\"submit\" value=\"Signup\" className=\"btn btn-primary\"/>\n                    </div>\n                </form>\n                <div className = \"link-signup\">Already have an account?{\" \"}\n                <Link to='/'>Log in here</Link>\n                <br/>\n                </div>\n            </Container>  \n            </div>\n        );\n    }\n} "]},"metadata":{},"sourceType":"module"}