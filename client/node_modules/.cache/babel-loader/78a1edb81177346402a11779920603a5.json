{"ast":null,"code":"import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from'@material-ui/core/Container';import'./homePage.css';import\"bootstrap/dist/css/bootstrap.min.css\";import RecipeSlideShow from'./slideshow/recipeSlideShow.component';import HomePageLeftPanel from'./leftpanel/homePageLeftPanel.component';import Navbar from'../Navbar/navbar.component';import HomePageRightPanel from'./rightpanel/homePageRightPanel.component';import ReceipeList from'../recipelist/recipelist.component';import TopRecipes from\"./toprecipes/topRecipes.component\";import cakeIcon from'./images/cake.png';import pieIcon from'./images/pie.png';import pizzaIcon from'./images/pizza.png';import saladIcon from'./images/salad.png';import sandwichIcon from'./images/sandwich.png';import seafoodIcon from'./images/seafood.png';import soupIcon from'./images/soup.png';import noodlesIcon from'./images/noodles.png';// hardcoded images\nimport recipe1 from'../../recipes/butter-chicken.jpg';import recipe2 from'../../recipes/lemon-zucchini-bread.jpg';import recipe3 from'../../recipes/ramen.jpg';import recipe4 from'../../recipes/vanilla-cake.png';import recipe5 from'../../recipes/spaghetti.png';import recipe6 from'../../recipes/apple-pie.png';import recipe7 from'../../recipes/homemade-pizza.png';import recipe8 from'../../recipes/greek-salad.png';import recipe9 from'../../recipes/seafood-sandwiches.png';import recipe10 from'../../recipes/seafood-stew.png';import recipe11 from'../../recipes/Chicken-Noodle-Soup.jpg';// mappings between categories and id\n// 0: cake; 1: noodles; 2: pie; 3: pizza; 4: salads; 5: sandwiches; 6: seafood; 7: soup \nvar HomePage=/*#__PURE__*/function(_Component){_inherits(HomePage,_Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);// the data will be fetched from the database and calculated in component_DidMount callback\n_this.incrSlide=function(){if(_this.state.slide_idx<_this.state.num_slides-1){_this.setState({slide_idx:_this.state.slide_idx+1});}else{_this.setState({slide_idx:0});}var dots=document.getElementsByClassName(\"dot\");for(var i=0;i<dots.length;i++){dots[i].className=dots[i].className.replace(\" active\",\"\");}dots[_this.state.slide_idx].className+=\" active\";};_this.decrSlide=function(){if(_this.state.slide_idx>0){_this.setState({slide_idx:_this.state.slide_idx-1});}else{_this.setState({slide_idx:_this.state.num_slides-1});}var dots=document.getElementsByClassName(\"dot\");for(var i=0;i<dots.length;i++){dots[i].className=dots[i].className.replace(\" active\",\"\");}dots[_this.state.slide_idx].className+=\" active\";};_this.autoShowSlides=function(){_this.incrSlide();var dots=document.getElementsByClassName(\"dot\");for(var i=0;i<dots.length;i++){dots[i].className=dots[i].className.replace(\" active\",\"\");}dots[_this.state.slide_idx].className+=\" active\";};_this.clickRecipe=function(userid,rid){window.location=\"/viewrecipe/\"+userid+\"/\"+rid;};_this.clickStar=function(rid){// require server call to update recipe information\nvar new_recipes=[];var new_displayed_recipes=[];_this.state.recipes.forEach(function(recipe){var new_recipe=Object.create(recipe);if(recipe.id===rid){if(new_recipe.collected){new_recipe.collected=false;}else{new_recipe.collected=true;}}new_recipes.push(new_recipe);});_this.setState({recipes:new_recipes});_this.state.displayed_recipes.forEach(function(recipe){var new_recipe=Object.create(recipe);if(new_recipe.id===rid){if(new_recipe.collected){new_recipe.collected=false;}else{new_recipe.collected=true;}}new_displayed_recipes.push(new_recipe);});_this.setState({displayed_recipes:new_displayed_recipes});};_this.clickHeart=function(rid){// require server call to update recipe information\nvar new_recipes=[];var new_displayed_recipes=[];_this.state.recipes.forEach(function(recipe){var new_recipe=Object.create(recipe);if(recipe.id===rid){if(new_recipe.liked){new_recipe.liked=false;new_recipe.likes--;}else{new_recipe.liked=true;new_recipe.likes++;}}new_recipes.push(new_recipe);});_this.setState({recipes:new_recipes});_this.state.displayed_recipes.forEach(function(recipe){var new_recipe=Object.create(recipe);if(new_recipe.id===rid){if(new_recipe.liked){new_recipe.liked=false;new_recipe.likes--;}else{new_recipe.liked=true;new_recipe.likes++;}}new_displayed_recipes.push(new_recipe);});_this.setState({displayed_recipes:new_displayed_recipes});// update top three recipes\nvar first_largest=0;var second_largest=0;var third_largest=0;var first_idx=0;var second_idx=0;var third_idx=0;for(var i=0;i<new_recipes.length;i++){if(new_recipes[i].likes>first_largest){third_largest=second_largest;second_largest=first_largest;first_largest=new_recipes[i].likes;first_idx=i;}else if(new_recipes[i].likes>second_largest){third_largest=second_largest;second_largest=new_recipes[i].likes;second_idx=i;}else if(new_recipes[i].likes>third_largest){third_largest=new_recipes[i].likes;third_idx=i;}}_this.setState({top3_recipe:[first_idx,second_idx,third_idx]});};_this.clickCategory=function(event){var new_categories=_this.state.categories;new_categories[event.target.name].checked=!_this.state.categories[event.target.name].checked;_this.setState({categories:new_categories});var categories_ondisplay=[];for(var i=0;i<_this.state.categories.length;i++){if(_this.state.categories[i].checked)categories_ondisplay.push(i);}// show and hide receipes\nvar new_recipes=[];for(var _i=0;_i<_this.state.recipes.length;_i++){for(var j=0;j<_this.state.recipes[_i].categories.length;j++){if(categories_ondisplay.includes(_this.state.recipes[_i].categories[j])){new_recipes.push(_this.state.recipes[_i]);break;}}}_this.setState({displayed_recipes:new_recipes});};_this.clickAll=function(e){_this.setState({all_checked:!_this.state.all_checked});var all_checked=!_this.state.all_checked;var new_categories=_this.state.categories;new_categories.forEach(function(category){category.checked=all_checked;});_this.setState({categories:new_categories});if(all_checked){_this.setState({displayed_recipes:_this.state.recipes});}else{_this.setState({displayed_recipes:[]});}};_this.state={uid:_this.props.match.params.uid,slide_idx:0,num_slides:3,// this is the index into the recipes array\ntop3_recipe:[0,1,2],// categories \ncategories:[{id:0,src:cakeIcon,text:'Cake',checked:true},{id:1,src:noodlesIcon,text:'Noodles',checked:true},{id:2,src:pieIcon,text:'Pie',checked:true},{id:3,src:pizzaIcon,text:'Pizza',checked:true},{id:4,src:saladIcon,text:'Salads',checked:true},{id:5,src:sandwichIcon,text:'Sandwiches',checked:true},{id:6,src:seafoodIcon,text:'Seafood',checked:true},{id:7,src:soupIcon,text:'Soup',checked:true}],all_checked:true,// the data will be fetched from the database\nrecipes:[{id:0,src:recipe1,liked:false,collected:false,title:'Butter Chicken',likes:123,categories:[7]},{id:1,src:recipe2,liked:false,collected:false,title:'Lemon Zucchini Bread',likes:100,categories:[0]},{id:2,src:recipe3,liked:false,collected:false,title:'Ramen',likes:98,categories:[1]},{id:3,src:recipe4,liked:false,collected:false,title:'Vanilla Cake',likes:76,categories:[0]},{id:4,src:recipe5,liked:false,collected:false,title:'Homemade Spaghetti',likes:65,categories:[1]},{id:5,src:recipe6,liked:false,collected:false,title:'Apple Pie',likes:63,categories:[2]},{id:6,src:recipe7,liked:false,collected:false,title:'Homemade Pizza',likes:62,categories:[3]},{id:7,src:recipe8,liked:false,collected:false,title:'Greek Salad',likes:60,categories:[4]},{id:8,src:recipe9,liked:false,collected:false,title:'Seafood Sandwiches',likes:58,categories:[5,6]},{id:9,src:recipe10,liked:false,collected:false,title:'Spicy seafood stew',likes:50,categories:[6,7]},{id:10,src:recipe11,liked:false,collected:false,title:'Chicken Noodle Soup',likes:47,categories:[7]}],displayed_recipes:[{id:0,src:recipe1,liked:false,collected:false,title:'Butter Chicken',likes:123,categories:[7]},{id:1,src:recipe2,liked:false,collected:false,title:'Lemon Zucchini Bread',likes:100,categories:[0]},{id:2,src:recipe3,liked:false,collected:false,title:'Ramen',likes:98,categories:[1]},{id:3,src:recipe4,liked:false,collected:false,title:'Vanilla Cake',likes:76,categories:[0]},{id:4,src:recipe5,liked:false,collected:false,title:'Homemade Spaghetti',likes:65,categories:[1]},{id:5,src:recipe6,liked:false,collected:false,title:'Apple Pie',likes:63,categories:[2]},{id:6,src:recipe7,liked:false,collected:false,title:'Homemade Pizza',likes:62,categories:[3]},{id:7,src:recipe8,liked:false,collected:false,title:'Greek Salad',likes:60,categories:[4]},{id:8,src:recipe9,liked:false,collected:false,title:'Seafood Sandwiches',likes:58,categories:[5,6]},{id:9,src:recipe10,liked:false,collected:false,title:'Spicy seafood stew',likes:50,categories:[6,7]},{id:10,src:recipe11,liked:false,collected:false,title:'Chicken Noodle Soup',likes:47,categories:[7]}]};return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.interval=setInterval(function(){_this2.autoShowSlides();},3000);// initialize recipes, displayed recipes, top3_recipe id\n}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"body\"},/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{uid:this.state.uid}),/*#__PURE__*/React.createElement(HomePageLeftPanel,{categories:this.state.categories,clickCategory:this.clickCategory,all_checked:this.state.all_checked,clickAll:this.clickAll}),/*#__PURE__*/React.createElement(\"div\",{id:\"middle-panel\"},/*#__PURE__*/React.createElement(RecipeSlideShow,{imgsrc:this.state.recipes[this.state.top3_recipe[this.state.slide_idx]].src,imgalt:this.state.recipes[this.state.top3_recipe[this.state.slide_idx]].title,imgtext:this.state.recipes[this.state.top3_recipe[this.state.slide_idx]].title,decrSlide:this.decrSlide,incrSlide:this.incrSlide}),/*#__PURE__*/React.createElement(ReceipeList,{recipes:this.state.displayed_recipes,clickRecipe:this.clickRecipe,clickHeart:this.clickHeart,clickStar:this.clickStar,userid:this.state.uid})),/*#__PURE__*/React.createElement(HomePageRightPanel,{top3_recipe:this.state.top3_recipe,recipes:this.state.recipes,clickHeart:this.clickHeart,userid:this.state.uid}),/*#__PURE__*/React.createElement(TopRecipes,{top3_recipe:this.state.top3_recipe,recipes:this.state.recipes,userid:this.state.uid})));}}]);return HomePage;}(Component);export{HomePage as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/homePage/homePage.component.js"],"names":["React","Component","Container","RecipeSlideShow","HomePageLeftPanel","Navbar","HomePageRightPanel","ReceipeList","TopRecipes","cakeIcon","pieIcon","pizzaIcon","saladIcon","sandwichIcon","seafoodIcon","soupIcon","noodlesIcon","recipe1","recipe2","recipe3","recipe4","recipe5","recipe6","recipe7","recipe8","recipe9","recipe10","recipe11","HomePage","props","incrSlide","state","slide_idx","num_slides","setState","dots","document","getElementsByClassName","i","length","className","replace","decrSlide","autoShowSlides","clickRecipe","userid","rid","window","location","clickStar","new_recipes","new_displayed_recipes","recipes","forEach","recipe","new_recipe","Object","create","id","collected","push","displayed_recipes","clickHeart","liked","likes","first_largest","second_largest","third_largest","first_idx","second_idx","third_idx","top3_recipe","clickCategory","event","new_categories","categories","target","name","checked","categories_ondisplay","j","includes","clickAll","e","all_checked","category","uid","match","params","src","text","title","interval","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Container from '@material-ui/core/Container';\n\nimport './homePage.css'\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport RecipeSlideShow from './slideshow/recipeSlideShow.component'\nimport HomePageLeftPanel from './leftpanel/homePageLeftPanel.component'\nimport Navbar from '../Navbar/navbar.component'\nimport HomePageRightPanel from './rightpanel/homePageRightPanel.component'\nimport ReceipeList from '../recipelist/recipelist.component'\nimport TopRecipes from \"./toprecipes/topRecipes.component\"\n\nimport cakeIcon from './images/cake.png'\nimport pieIcon from './images/pie.png'\nimport pizzaIcon from './images/pizza.png'\nimport saladIcon from './images/salad.png'\nimport sandwichIcon from './images/sandwich.png'\nimport seafoodIcon from './images/seafood.png'\nimport soupIcon from './images/soup.png'\nimport noodlesIcon from './images/noodles.png'\n\n// hardcoded images\nimport recipe1 from '../../recipes/butter-chicken.jpg'\nimport recipe2 from '../../recipes/lemon-zucchini-bread.jpg'\nimport recipe3 from '../../recipes/ramen.jpg'\nimport recipe4 from '../../recipes/vanilla-cake.png'\nimport recipe5 from '../../recipes/spaghetti.png'\nimport recipe6 from '../../recipes/apple-pie.png'\nimport recipe7 from '../../recipes/homemade-pizza.png'\nimport recipe8 from '../../recipes/greek-salad.png'\nimport recipe9 from '../../recipes/seafood-sandwiches.png'\nimport recipe10 from '../../recipes/seafood-stew.png'\nimport recipe11 from '../../recipes/Chicken-Noodle-Soup.jpg'\n\n// mappings between categories and id\n// 0: cake; 1: noodles; 2: pie; 3: pizza; 4: salads; 5: sandwiches; 6: seafood; 7: soup \nexport default class HomePage extends Component {\n    constructor(props){\n        super(props);\n\n        // the data will be fetched from the database and calculated in component_DidMount callback\n        this.state = {\n            uid: this.props.match.params.uid,\n            slide_idx: 0,\n            num_slides: 3,\n            // this is the index into the recipes array\n            top3_recipe: [0, 1, 2],\n            // categories \n            categories: [\n                {id:0, src:cakeIcon, text:'Cake', checked:true},\n                {id:1, src:noodlesIcon, text:'Noodles', checked:true},\n                {id:2, src:pieIcon, text:'Pie', checked:true},\n                {id:3, src:pizzaIcon, text: 'Pizza', checked:true},\n                {id:4, src:saladIcon, text: 'Salads', checked:true},\n                {id:5, src:sandwichIcon, text:'Sandwiches', checked:true},\n                {id:6, src:seafoodIcon, text: 'Seafood', checked:true},\n                {id:7, src:soupIcon, text:'Soup', checked:true}\n            ],\n            all_checked: true,\n            // the data will be fetched from the database\n            recipes: [\n                {id:0, src:recipe1, liked: false, collected: false, title:'Butter Chicken', likes: 123, categories:[7]},\n                {id:1, src:recipe2, liked: false, collected: false, title:'Lemon Zucchini Bread', likes: 100, categories:[0]},\n                {id:2, src:recipe3, liked: false, collected: false, title:'Ramen', likes:98, categories:[1]},\n                {id:3, src:recipe4, liked: false, collected: false, title:'Vanilla Cake', likes:76, categories:[0]},\n                {id:4, src:recipe5, liked: false, collected: false, title:'Homemade Spaghetti', likes:65, categories:[1]},\n                {id:5, src:recipe6, liked: false, collected: false, title:'Apple Pie', likes:63, categories:[2]},\n                {id:6, src:recipe7, liked: false, collected: false, title:'Homemade Pizza', likes:62, categories:[3]},\n                {id:7, src:recipe8, liked: false, collected: false, title:'Greek Salad', likes:60, categories:[4]},\n                {id:8, src:recipe9, liked: false, collected: false, title:'Seafood Sandwiches', likes:58, categories:[5, 6]},\n                {id:9, src:recipe10, liked: false, collected: false, title:'Spicy seafood stew', likes:50, categories:[6, 7]},\n                {id:10, src:recipe11, liked: false, collected: false, title:'Chicken Noodle Soup', likes:47, categories:[7]}\n            ],\n            displayed_recipes: [\n                {id:0, src:recipe1, liked: false, collected: false, title:'Butter Chicken', likes: 123, categories:[7]},\n                {id:1, src:recipe2, liked: false, collected: false, title:'Lemon Zucchini Bread', likes: 100, categories:[0]},\n                {id:2, src:recipe3, liked: false, collected: false, title:'Ramen', likes:98, categories:[1]},\n                {id:3, src:recipe4, liked: false, collected: false, title:'Vanilla Cake', likes:76, categories:[0]},\n                {id:4, src:recipe5, liked: false, collected: false, title:'Homemade Spaghetti', likes:65, categories:[1]},\n                {id:5, src:recipe6, liked: false, collected: false, title:'Apple Pie', likes:63, categories:[2]},\n                {id:6, src:recipe7, liked: false, collected: false, title:'Homemade Pizza', likes:62, categories:[3]},\n                {id:7, src:recipe8, liked: false, collected: false, title:'Greek Salad', likes:60, categories:[4]},\n                {id:8, src:recipe9, liked: false, collected: false, title:'Seafood Sandwiches', likes:58, categories:[5, 6]},\n                {id:9, src:recipe10, liked: false, collected: false, title:'Spicy seafood stew', likes:50, categories:[6, 7]},\n                {id:10, src:recipe11, liked: false, collected: false, title:'Chicken Noodle Soup', likes:47, categories:[7]}\n            ]\n        }\n    }\n\n    componentDidMount() {\n        this.interval = setInterval(() => {\n            this.autoShowSlides();\n        }, 3000)\n        // initialize recipes, displayed recipes, top3_recipe id\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    incrSlide = () => {\n        if(this.state.slide_idx < this.state.num_slides-1){\n            this.setState({ slide_idx: this.state.slide_idx+1 });\n        } else {\n            this.setState({ slide_idx: 0 });\n        }\n        const dots = document.getElementsByClassName(\"dot\");\n        for (let i = 0; i < dots.length; i++) {\n            dots[i].className = dots[i].className.replace(\" active\", \"\");\n        }\n        dots[this.state.slide_idx].className += \" active\";\n    }\n\n    decrSlide = () => {\n        if(this.state.slide_idx > 0){\n            this.setState({ slide_idx: this.state.slide_idx-1 });\n        } else {\n            this.setState({ slide_idx: this.state.num_slides-1 });\n        }\n        const dots = document.getElementsByClassName(\"dot\");\n        for (let i = 0; i < dots.length; i++) {\n            dots[i].className = dots[i].className.replace(\" active\", \"\");\n        }\n        dots[this.state.slide_idx].className += \" active\";\n    }\n\n    autoShowSlides = () => {\n        this.incrSlide();\n        const dots = document.getElementsByClassName(\"dot\");\n        for (let i = 0; i < dots.length; i++) {\n            dots[i].className = dots[i].className.replace(\" active\", \"\");\n        }\n        dots[this.state.slide_idx].className += \" active\";\n    }\n\n    clickRecipe=(userid,rid)=>{\n        window.location = \"/viewrecipe/\"+ userid + \"/\" + rid;\n    }\n\n    clickStar=(rid)=>{\n        // require server call to update recipe information\n        const new_recipes = [];\n        const new_displayed_recipes = [];\n        this.state.recipes.forEach((recipe)=>{\n            const new_recipe = Object.create(recipe)\n            if(recipe.id === rid){\n                if(new_recipe.collected){\n                    new_recipe.collected = false;\n                }else{\n                    new_recipe.collected = true;\n                }\n            }\n            new_recipes.push(new_recipe)\n        })\n\n        this.setState({ recipes: new_recipes });\n        this.state.displayed_recipes.forEach((recipe)=>{\n            const new_recipe = Object.create(recipe)\n            if(new_recipe.id === rid){\n                if(new_recipe.collected){\n                    new_recipe.collected = false;\n                }else{\n                    new_recipe.collected = true;\n                }\n            }\n            new_displayed_recipes.push(new_recipe)\n        })\n        this.setState({ displayed_recipes: new_displayed_recipes });\n    }\n\n    clickHeart=(rid)=>{\n        // require server call to update recipe information\n        const new_recipes = [];\n        const new_displayed_recipes = [];\n        this.state.recipes.forEach((recipe)=>{\n            const new_recipe = Object.create(recipe)\n            if(recipe.id === rid){\n                if(new_recipe.liked){\n                    new_recipe.liked = false;\n                    new_recipe.likes--;\n                }else{\n                    new_recipe.liked = true;\n                    new_recipe.likes++;\n                }\n            }\n            new_recipes.push(new_recipe)\n        })\n\n        this.setState({ recipes: new_recipes });\n        this.state.displayed_recipes.forEach((recipe)=>{\n            const new_recipe = Object.create(recipe)\n            if(new_recipe.id === rid){\n                if(new_recipe.liked){\n                    new_recipe.liked = false;\n                    new_recipe.likes--;\n                }else{\n                    new_recipe.liked = true;\n                    new_recipe.likes++;\n                }\n            }\n            new_displayed_recipes.push(new_recipe)\n        })\n        this.setState({ displayed_recipes: new_displayed_recipes });\n\n        // update top three recipes\n        let first_largest = 0;\n        let second_largest = 0;\n        let third_largest = 0;\n        let first_idx = 0;\n        let second_idx = 0;\n        let third_idx = 0;\n        for(let i=0; i< new_recipes.length; i++){\n            if(new_recipes[i].likes > first_largest){\n                third_largest = second_largest;\n                second_largest = first_largest;\n                first_largest = new_recipes[i].likes;\n                first_idx = i;\n            }else if(new_recipes[i].likes > second_largest){\n                third_largest = second_largest;\n                second_largest = new_recipes[i].likes;\n                second_idx = i;\n            }else if(new_recipes[i].likes > third_largest){\n                third_largest = new_recipes[i].likes;\n                third_idx = i;\n            }\n        }\n        this.setState({ top3_recipe: [first_idx, second_idx, third_idx]})\n    }\n\n    clickCategory = (event)=>{\n        const new_categories = this.state.categories;\n        new_categories[event.target.name].checked = !this.state.categories[event.target.name].checked;\n        this.setState({ categories: new_categories});\n\n        const categories_ondisplay = []\n        for(let i = 0; i < this.state.categories.length; i++){\n            if(this.state.categories[i].checked)\n            categories_ondisplay.push(i)\n        }\n\n        // show and hide receipes\n        const new_recipes = []\n        for(let i = 0; i < this.state.recipes.length; i++){\n            for(let j = 0; j < this.state.recipes[i].categories.length; j++){\n                if(categories_ondisplay.includes(this.state.recipes[i].categories[j])){ \n                    new_recipes.push(this.state.recipes[i]);\n                    break;\n                }\n            }\n        }\n        this.setState({ displayed_recipes: new_recipes });\n    }\n\n    clickAll = (e) => {\n        this.setState({ all_checked: !this.state.all_checked})\n        let all_checked = !this.state.all_checked;\n        let new_categories = this.state.categories\n        new_categories.forEach((category)=>{category.checked = all_checked})\n        this.setState({ categories: new_categories});\n        if(all_checked){\n            this.setState({ displayed_recipes: this.state.recipes});\n        }else{\n            this.setState({ displayed_recipes: []});\n        }\n    }\n\n    render(){\n        return(\n            <div id=\"body\">\n                \n                <Container maxWidth='md'>\n                    <Navbar uid={this.state.uid}/>\n                    <HomePageLeftPanel\n                        categories={this.state.categories}\n                        clickCategory={this.clickCategory}\n                        all_checked={this.state.all_checked}\n                        clickAll={this.clickAll}\n                    />                    \n\n                    <div id=\"middle-panel\">\n                        <RecipeSlideShow \n                            imgsrc={this.state.recipes[this.state.top3_recipe[this.state.slide_idx]].src}\n                            imgalt={this.state.recipes[this.state.top3_recipe[this.state.slide_idx]].title}\n                            imgtext={this.state.recipes[this.state.top3_recipe[this.state.slide_idx]].title}\n                            decrSlide={this.decrSlide}\n                            incrSlide={this.incrSlide}\n                        />\n                        <ReceipeList \n                        recipes={this.state.displayed_recipes}\n                        clickRecipe={this.clickRecipe}\n                        clickHeart={this.clickHeart}\n                        clickStar={this.clickStar}\n                        userid={this.state.uid}\n                        />\n                    </div>\n\n                    <HomePageRightPanel \n                    top3_recipe={this.state.top3_recipe} \n                    recipes={this.state.recipes}\n                    clickHeart={this.clickHeart}\n                    userid={this.state.uid}\n                    />\n                    \n                    <TopRecipes\n                    top3_recipe={this.state.top3_recipe}\n                    recipes={this.state.recipes}\n                    userid={this.state.uid}\n                    />\n                </Container> \n            </div>\n        )\n    }\n} "]},"metadata":{},"sourceType":"module"}