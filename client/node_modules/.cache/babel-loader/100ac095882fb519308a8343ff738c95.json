{"ast":null,"code":"import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from'@material-ui/core/Container';import'./editProfile.css';import Navbar from\"../Navbar/navbar.component\";import ReceipeList from'../recipelist/recipelist.component';import Avatar from'react-avatar-edit';import{Collapse}from'react-bootstrap';import ProfilePic from'../viewProfile/default-profile-pic.png';import recipe1 from'../../recipes/butter-chicken.jpg';import recipe2 from'../../recipes/lemon-zucchini-bread.jpg';import recipe3 from'../../recipes/ramen.jpg';import recipe4 from'../../recipes/vanilla-cake.png';import recipe5 from'../../recipes/spaghetti.png';import recipe6 from'../../recipes/apple-pie.png';import recipe7 from'../../recipes/homemade-pizza.png';import recipe8 from'../../recipes/greek-salad.png';import recipe9 from'../../recipes/seafood-sandwiches.png';import recipe10 from'../../recipes/seafood-stew.png';import recipe11 from'../../recipes/Chicken-Noodle-Soup.jpg';import{FaRegSave}from\"react-icons/fa\";var EditProfile=/*#__PURE__*/function(_Component){_inherits(EditProfile,_Component);var _super=_createSuper(EditProfile);function EditProfile(props){var _this2=this;var _this;_classCallCheck(this,EditProfile);_this=_super.call(this,props);// requires server calle to fetch the following information\n_this.handleRecipeExpandClick=function(){if(_this.state.recipeExpanded){_this.setState({recipeExpanded:false});}else{_this.setState({recipeExpanded:true});}};_this.handleCollectionExpandClick=function(){if(_this.state.collectionExpanded){_this.setState({collectionExpanded:false});}else{_this.setState({collectionExpanded:true});}};_this.clickHeart=function(rid){// requires server call to update the information\nvar new_recipes=_this.state.recipes;_this.state.recipes.forEach(function(recipe,idx){if(recipe.id===rid){if(recipe.liked){new_recipes[idx].liked=false;new_recipes[idx].likes--;_this.setState({recipes:new_recipes});}else{new_recipes[idx].liked=true;new_recipes[idx].likes--;_this.setState({recipes:new_recipes});}}});console.log(_this.state.recipes);};_this.clickStar=function(rid){// requires server call to update the information\nvar new_recipes=_this.state.recipes;_this.state.recipes.forEach(function(recipe,idx){if(recipe.id===rid){if(recipe.collected){new_recipes[idx].collected=false;_this.setState({recipes:new_recipes});}else{new_recipes[idx].collected=true;_this.setState({recipes:new_recipes});}}});console.log(_this.state.recipes);};_this.editprofile=function(e){e.preventDefault();// requires server call to push the new profile picture \n// and the new description into the server \nwindow.location=\"/viewprofile/\"+_this.state.uid+\"/\"+_this.state.uid;};_this.onClose=function(e){_this.setState({preview:null});};_this.onCrop=function(e,preview){_this.setState({preview:preview});};_this.onChangePassword=function(e){e.preventDefault();_this.setState({password:e.target.value});};_this.onChangeDescription=function(e){e.preventDefault();_this.setState({description:e.target.value});};_this.clickRecipe=function(userid,rid){window.location=\"/viewrecipe/\"+userid+\"/\"+rid;};_this.RecipeExpandButtonGenerator=function(){if(_this.state.recipeExpanded){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleRecipeExpandClick},\"Collapse\");}else{return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleRecipeExpandClick},\"View\");}};_this.CollectionExpandButtonGenerator=function(){if(_this.state.collectionExpanded){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleCollectionExpandClick},\"Collapse\");}else{return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleCollectionExpandClick},\"View\");}};_this.CollectionRecipeGenerator=function(){if(_this.state.recipeExpanded){return/*#__PURE__*/React.createElement(\"div\",{id:\"collection-recipeswithEx\"},/*#__PURE__*/React.createElement(\"h4\",null,\"My Collection\",/*#__PURE__*/React.createElement(_this2.CollectionExpandButtonGenerator,null)),/*#__PURE__*/React.createElement(Collapse,{in:_this.state.collectionExpanded},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(ReceipeList,{recipes:_this.state.collectRecipes,clickHeart:_this.clickHeart,clickStar:_this.clickStar,clickRecipe:_this.clickRecipe,userid:_this.state.curruid}))));}else if(!_this.state.recipeExpanded){return/*#__PURE__*/React.createElement(\"div\",{id:\"collection-recipes\"},/*#__PURE__*/React.createElement(\"h4\",null,\"My Collection\",/*#__PURE__*/React.createElement(_this2.CollectionExpandButtonGenerator,null)),/*#__PURE__*/React.createElement(Collapse,{in:_this.state.collectionExpanded},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(ReceipeList,{recipes:_this.state.collectRecipes,clickHeart:_this.clickHeart,clickStar:_this.clickStar,clickRecipe:_this.clickRecipe,userid:_this.state.curruid}))));}};_this.state={uid:_this.props.match.params.uid,password:\"user\",username:\"Catherine\",userpicture:{src:ProfilePic},picturePreview:null,description:\"I love baking!!!\",recipes:[{id:4,src:recipe5,liked:false,collected:false,title:'Homemade Spaghetti',likes:65,categories:[1]},{id:5,src:recipe6,liked:false,collected:false,title:'Apple Pie',likes:63,categories:[2]},{id:6,src:recipe7,liked:false,collected:false,title:'Homemade Pizza',likes:62,categories:[3]},{id:7,src:recipe8,liked:false,collected:false,title:'Greek Salad',likes:60,categories:[4]},{id:8,src:recipe9,liked:false,collected:false,title:'Seafood Sandwiches',likes:58,categories:[5,6]},{id:9,src:recipe10,liked:false,collected:false,title:'Spicy seafood stew',likes:50,categories:[6,7]},{id:10,src:recipe11,liked:false,collected:false,title:'Chicken Noodle Soup',likes:47,categories:[7]}],collectRecipes:[{id:0,src:recipe1,liked:false,collected:false,title:'Butter Chicken',likes:123,categories:[7]},{id:1,src:recipe2,liked:false,collected:false,title:'Lemon Zucchini Bread',likes:100,categories:[0]},{id:2,src:recipe3,liked:false,collected:false,title:'Ramen',likes:98,categories:[1]},{id:3,src:recipe4,liked:false,collected:false,title:'Vanilla Cake',likes:76,categories:[0]},{id:4,src:recipe5,liked:false,collected:false,title:'Homemade Spaghetti',likes:65,categories:[1]},{id:5,src:recipe6,liked:false,collected:false,title:'Apple Pie',likes:63,categories:[2]},{id:6,src:recipe7,liked:false,collected:false,title:'Homemade Pizza',likes:62,categories:[3]},{id:7,src:recipe8,liked:false,collected:false,title:'Greek Salad',likes:60,categories:[4]}],recipeExpanded:false,collectionExpanded:false};return _this;}_createClass(EditProfile,[{key:\"componentDidMount\",value:function componentDidMount(){// requires server call to fetch user information and recipes user created\n}},{key:\"enterKeyHandler\",value:function enterKeyHandler(e){e.preventDefault();if(e.keyCode===13){this.setState({description:this.state.description+'\\n'});};}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"edit-profile\"},/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{uid:this.state.uid}),/*#__PURE__*/React.createElement(\"div\",{id:\"user-profile\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.username+\"'s Profile\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.editprofile},/*#__PURE__*/React.createElement(\"div\",{id:\"picture-change\"},/*#__PURE__*/React.createElement(Avatar,{width:200,height:200,round:true,onCrop:this.onCrop,onClose:this.onClose,src:this.state.userpicture.src})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\",id:\"profile-input\"},/*#__PURE__*/React.createElement(\"div\",null,\"Change Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",value:this.state.password,onChange:this.onChangePassword}),/*#__PURE__*/React.createElement(\"div\",null,\"Change Profile Description:\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"form-control\",value:this.state.description,onChange:this.onChangeDescription}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:this.editprofile},/*#__PURE__*/React.createElement(FaRegSave,null),\"Save Profile\")))),/*#__PURE__*/React.createElement(\"div\",{id:\"user-recipes\"},/*#__PURE__*/React.createElement(\"h4\",null,\"My Recipes\",/*#__PURE__*/React.createElement(this.RecipeExpandButtonGenerator,null)),/*#__PURE__*/React.createElement(Collapse,{in:this.state.recipeExpanded},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(ReceipeList,{recipes:this.state.recipes,clickHeart:this.clickHeart,clickStar:this.clickStar,clickRecipe:this.clickRecipe,userid:this.state.curruid})))),/*#__PURE__*/React.createElement(this.CollectionRecipeGenerator,null)));}}]);return EditProfile;}(Component);export{EditProfile as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/editProfile/editProfile.component.js"],"names":["React","Component","Container","Navbar","ReceipeList","Avatar","Collapse","ProfilePic","recipe1","recipe2","recipe3","recipe4","recipe5","recipe6","recipe7","recipe8","recipe9","recipe10","recipe11","FaRegSave","EditProfile","props","handleRecipeExpandClick","state","recipeExpanded","setState","handleCollectionExpandClick","collectionExpanded","clickHeart","rid","new_recipes","recipes","forEach","recipe","idx","id","liked","likes","console","log","clickStar","collected","editprofile","e","preventDefault","window","location","uid","onClose","preview","onCrop","onChangePassword","password","target","value","onChangeDescription","description","clickRecipe","userid","RecipeExpandButtonGenerator","CollectionExpandButtonGenerator","CollectionRecipeGenerator","collectRecipes","curruid","match","params","username","userpicture","src","picturePreview","title","categories","keyCode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Container from '@material-ui/core/Container'\nimport './editProfile.css'\nimport Navbar from \"../Navbar/navbar.component\"\nimport ReceipeList from '../recipelist/recipelist.component'\nimport Avatar from 'react-avatar-edit';\nimport {Collapse} from 'react-bootstrap'\n\nimport ProfilePic from'../viewProfile/default-profile-pic.png' \nimport recipe1 from '../../recipes/butter-chicken.jpg'\nimport recipe2 from '../../recipes/lemon-zucchini-bread.jpg'\nimport recipe3 from '../../recipes/ramen.jpg'\nimport recipe4 from '../../recipes/vanilla-cake.png'\nimport recipe5 from '../../recipes/spaghetti.png'\nimport recipe6 from '../../recipes/apple-pie.png'\nimport recipe7 from '../../recipes/homemade-pizza.png'\nimport recipe8 from '../../recipes/greek-salad.png'\nimport recipe9 from '../../recipes/seafood-sandwiches.png'\nimport recipe10 from '../../recipes/seafood-stew.png'\nimport recipe11 from '../../recipes/Chicken-Noodle-Soup.jpg'\nimport { FaRegSave } from \"react-icons/fa\";\n\nexport default class EditProfile extends Component {\n    constructor(props){\n        super(props);\n        \n        // requires server calle to fetch the following information\n        this.state = {\n            uid: this.props.match.params.uid,\n            password: \"user\",\n            username: \"Catherine\", \n            userpicture: {src: ProfilePic},\n            picturePreview: null, \n            description: \"I love baking!!!\",\n            recipes: [\n                {id:4, src:recipe5, liked: false, collected: false, title:'Homemade Spaghetti', likes:65, categories:[1]},\n                {id:5, src:recipe6, liked: false, collected: false, title:'Apple Pie', likes:63, categories:[2]},\n                {id:6, src:recipe7, liked: false, collected: false, title:'Homemade Pizza', likes:62, categories:[3]},\n                {id:7, src:recipe8, liked: false, collected: false, title:'Greek Salad', likes:60, categories:[4]},\n                {id:8, src:recipe9, liked: false, collected: false, title:'Seafood Sandwiches', likes:58, categories:[5, 6]},\n                {id:9, src:recipe10, liked: false, collected: false, title:'Spicy seafood stew', likes:50, categories:[6, 7]},\n                {id:10, src:recipe11, liked: false, collected: false, title:'Chicken Noodle Soup', likes:47, categories:[7]}\n            ],\n            collectRecipes:[{id:0, src:recipe1, liked: false, collected: false, title:'Butter Chicken', likes: 123, categories:[7]},\n            {id:1, src:recipe2, liked: false, collected: false, title:'Lemon Zucchini Bread', likes: 100, categories:[0]},\n            {id:2, src:recipe3, liked: false, collected: false, title:'Ramen', likes:98, categories:[1]},\n            {id:3, src:recipe4, liked: false, collected: false, title:'Vanilla Cake', likes:76, categories:[0]},\n            {id:4, src:recipe5, liked: false, collected: false, title:'Homemade Spaghetti', likes:65, categories:[1]},\n            {id:5, src:recipe6, liked: false, collected: false, title:'Apple Pie', likes:63, categories:[2]},\n            {id:6, src:recipe7, liked: false, collected: false, title:'Homemade Pizza', likes:62, categories:[3]},\n            {id:7, src:recipe8, liked: false, collected: false, title:'Greek Salad', likes:60, categories:[4]}],\n            recipeExpanded: false,\n            collectionExpanded: false,\n        }\n    }\n\n    componentDidMount() {\n        // requires server call to fetch user information and recipes user created\n    }\n\n    handleRecipeExpandClick = () => {\n        if(this.state.recipeExpanded){\n            this.setState({ recipeExpanded: false });\n        }else{\n            this.setState({ recipeExpanded: true });\n        }\n    }\n    handleCollectionExpandClick= () => {\n        if(this.state.collectionExpanded){\n            this.setState({ collectionExpanded: false });\n        }else{\n            this.setState({ collectionExpanded: true });\n        }\n    }\n\n    clickHeart=(rid)=>{\n        // requires server call to update the information\n        let new_recipes = this.state.recipes;\n        this.state.recipes.forEach((recipe, idx)=>{\n            if(recipe.id === rid){\n                if(recipe.liked){\n                    new_recipes[idx].liked = false;\n                    new_recipes[idx].likes--;\n                    this.setState({ recipes: new_recipes });\n                }else{\n                    new_recipes[idx].liked = true;\n                    new_recipes[idx].likes--;\n                    this.setState({ recipes: new_recipes });\n                }\n            }\n        })\n        console.log(this.state.recipes)\n    }\n\n    clickStar=(rid)=>{\n        // requires server call to update the information\n        let new_recipes = this.state.recipes;\n        this.state.recipes.forEach((recipe, idx)=>{\n            if(recipe.id === rid){\n                if(recipe.collected){\n                    new_recipes[idx].collected = false;\n                    this.setState({ recipes: new_recipes });\n                }else{\n                    new_recipes[idx].collected = true;\n                    this.setState({ recipes: new_recipes });\n                }\n            }\n        })\n        console.log(this.state.recipes)\n    }\n\n    editprofile=(e)=>{\n        e.preventDefault();\n        // requires server call to push the new profile picture \n        // and the new description into the server \n        window.location = \"/viewprofile/\" + this.state.uid + \"/\" +this.state.uid;\n    }\n\n    onClose=(e)=>{\n        this.setState({preview: null})\n    }\n      \n    onCrop=(e,preview)=>{\n        this.setState({preview})\n    }\n\n    onChangePassword=(e)=>{\n        e.preventDefault();\n        this.setState({password: e.target.value});\n    }\n\n    onChangeDescription=(e)=>{\n        e.preventDefault();\n        this.setState({description: e.target.value});\n    }\n\n    enterKeyHandler(e){\n        e.preventDefault();\n        if (e.keyCode === 13){\n            this.setState({description: this.state.description + '\\n'});\n        };\n    }\n\n    clickRecipe=(userid,rid)=>{\n        window.location = \"/viewrecipe/\"+ userid + \"/\" + rid;\n    }\n\n    RecipeExpandButtonGenerator=()=>{\n        if(this.state.recipeExpanded){\n            return <button type=\"button\"\n                    className = \"btn btn-outline-primary\" \n                    onClick={this.handleRecipeExpandClick}>\n                    Collapse \n                    </button>\n        }else{\n            return <button type=\"button\"\n            className = \"btn btn-outline-primary\" \n            onClick={this.handleRecipeExpandClick}>\n            View \n            </button>\n        }\n    }\n\n    CollectionExpandButtonGenerator=()=>{\n       if(this.state.collectionExpanded){\n            return <button type=\"button\"\n                    className = \"btn btn-outline-primary\" \n                    onClick={this.handleCollectionExpandClick}>\n                    Collapse \n                    </button>\n        }else{\n            return <button type=\"button\"\n                    className = \"btn btn-outline-primary\" \n                    onClick={this.handleCollectionExpandClick}>\n                    View \n                    </button>\n        }\n    }\n\n    CollectionRecipeGenerator=()=>{\n        if(this.state.recipeExpanded){\n            return <div id=\"collection-recipeswithEx\">\n                <h4>My Collection\n                <this.CollectionExpandButtonGenerator/>\n                </h4>\n                <Collapse in={this.state.collectionExpanded}>\n                    <div className=\"recipe-list\">\n                        <ReceipeList   \n                            recipes={this.state.collectRecipes}\n                            clickHeart={this.clickHeart}\n                            clickStar={this.clickStar}\n                            clickRecipe = {this.clickRecipe}\n                            userid={this.state.curruid}\n                        />    \n                    </div>\n                    \n                </Collapse> \n            </div>\n        }else if(!this.state.recipeExpanded){\n            return <div id=\"collection-recipes\">\n                    <h4>My Collection\n                    <this.CollectionExpandButtonGenerator/>\n                    </h4>\n                    <Collapse in={this.state.collectionExpanded}>\n                        <div className=\"recipe-list\">\n                            <ReceipeList   \n                                recipes={this.state.collectRecipes}\n                                clickHeart={this.clickHeart}\n                                clickStar={this.clickStar}\n                                clickRecipe = {this.clickRecipe}\n                                userid={this.state.curruid}\n                            />    \n                        </div>\n                        \n                    </Collapse> \n                </div>\n        }\n    }\n\n    render(){\n        return(\n            <div className=\"edit-profile\">\n            \n            <Container maxWidth='md'>\n                <Navbar uid={this.state.uid}/>\n                \n                <div id=\"user-profile\">\n                    <h4>{this.state.username + \"'s Profile\"}</h4>\n                    <form onSubmit={this.editprofile}>\n                        <div id=\"picture-change\">\n                            <Avatar \n                                width={200}\n                                height={200} \n                                round={true} \n                                onCrop={this.onCrop}\n                                onClose={this.onClose}\n                                src={this.state.userpicture.src}\n                            /> \n                        </div>    \n                        <div className=\"form-group\" id=\"profile-input\">\n                            <div>Change Password:</div>\n                            <input type=\"password\" className = \"form-control\" value={this.state.password} onChange={this.onChangePassword}/>\n                            <div>Change Profile Description:</div>\n                            <textarea className = \"form-control\" value={this.state.description} onChange={this.onChangeDescription}/>\n                            <button type=\"button\"\n                                    className = \"btn btn-outline-primary\"\n                                    onClick={this.editprofile}>\n                                <FaRegSave/>\n                                Save Profile\n                            </button>    \n                        </div>  \n                    </form>\n                </div>\n                \n                <div id=\"user-recipes\">\n                    <h4>My Recipes\n                    <this.RecipeExpandButtonGenerator/>\n                    </h4>\n                    <Collapse in={this.state.recipeExpanded}>\n                        <div className=\"recipe-list\">\n                            <ReceipeList   \n                                recipes={this.state.recipes}\n                                clickHeart={this.clickHeart}\n                                clickStar={this.clickStar}\n                                clickRecipe = {this.clickRecipe}\n                                userid={this.state.curruid}\n                            />    \n                        </div>\n                    </Collapse>\n                </div>\n                <this.CollectionRecipeGenerator/>\n            </Container> \n            </div>\n        )\n    }\n} "]},"metadata":{},"sourceType":"module"}