{"ast":null,"code":"import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import Avatar from'react-avatar-edit';import{signup}from\"../../actions/user\";import'./signup.css';import Container from\"@material-ui/core/Container\";import cookpadIcon from'../homePage/images/cookpad.png';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.onChangeUsername=function(e){e.preventDefault();_this.setState({username:e.target.value});};_this.onChangePassword=function(e){e.preventDefault();_this.setState({password:e.target.value});};_this.onImageLoad=function(e){_this.setState({profilePic:e.target.files[0]});};_this.onClose=function(){_this.setState({preview:null});};_this.onCrop=function(preview){_this.setState({preview:preview});console.log(_this.state.preview);console.log(_this.state.profilePic);};_this.onChangeDescription=function(e){e.preventDefault();_this.setState({description:e.target.value});};_this.onSubmit=function(e,app){e.preventDefault();// create a new user object and \n// requires server calls to push the user to backend database\nif(_this.validator()){signup(_assertThisInitialized(_this),app);_this.props.history.push(\"/login\");}};_this.props.history.push(\"/signup\");_this.state={username:'',password:'',profilePic:null,description:''};return _this;}_createClass(Signup,[{key:\"validator\",value:function validator(){var isValid=true;if(this.state.username.length<1){isValid=false;alert(\"Username cannot be empty\");return isValid;}if(this.state.password.length<4){isValid=false;alert(\"Password needs a minimum length of 4\");return isValid;}return isValid;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"signup-page\"},/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo\"},/*#__PURE__*/React.createElement(\"img\",{src:cookpadIcon,alt:\"cookpad\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},\"COOKPAD\")),/*#__PURE__*/React.createElement(\"form\",{className:\"signup-form\",onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\",id:\"upload-pic\"},/*#__PURE__*/React.createElement(Avatar,{width:420,height:250,round:true,cropRadius:10,label:\"Choose a profile picture\",onImageLoad:this.onImageLoad,onCrop:this.onCrop,onClose:this.onClose,src:this.state.profilePic})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Username: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"username\",required:true,placeholder:\"E.g: 123\",className:\"form-control\",value:this.state.username,onChange:this.onChangeUsername})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",required:true,placeholder:\"Your Password\",className:\"form-control\",value:this.state.password,onChange:this.onChangePassword})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Description: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"description\",placeholder:\"Personal Description (Optional)\",className:\"form-control\",value:this.state.description,onChange:this.onChangeDescription})),/*#__PURE__*/React.createElement(\"div\",{id:\"signup-button\",className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Signup\",className:\"btn btn-primary\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"link-signup\"},\"Already have an account?\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Log in here\"),/*#__PURE__*/React.createElement(\"br\",null))));}}]);return Signup;}(Component);export{Signup as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/signup/signup.component.js"],"names":["React","Component","Link","Avatar","signup","Container","cookpadIcon","Signup","props","onChangeUsername","e","preventDefault","setState","username","target","value","onChangePassword","password","onImageLoad","profilePic","files","onClose","preview","onCrop","console","log","state","onChangeDescription","description","onSubmit","app","validator","history","push","isValid","length","alert"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport Avatar from 'react-avatar-edit';\n\nimport {signup} from \"../../actions/user\";\nimport './signup.css'\nimport Container from \"@material-ui/core/Container\"\nimport cookpadIcon from '../homePage/images/cookpad.png'\n\nexport default class Signup extends Component {\n    constructor(props){\n        super(props);     \n        this.props.history.push(\"/signup\");   \n        this.state = {\n            username: '',\n            password: '',\n            profilePic: null,\n            description: ''\n        }\n    }\n\n    onChangeUsername = (e)=>{\n        e.preventDefault();\n        this.setState({ username: e.target.value });\n    }\n     \n    onChangePassword = (e)=>{\n        e.preventDefault();\n        this.setState({ password: e.target.value });\n    }\n\n    onImageLoad=(e)=>{\n        this.setState({profilePic: e.target.files[0]});\n    }\n\n    onClose=()=>{\n        this.setState({preview: null})\n    }\n      \n    onCrop=(preview)=>{\n        this.setState({preview})\n        console.log(this.state.preview)\n        console.log(this.state.profilePic)\n    }\n\n    onChangeDescription = (e)=>{\n        e.preventDefault();\n        this.setState({ description: e.target.value });\n    }\n\n    onSubmit=(e, app)=>{\n        e.preventDefault();\n        \n        // create a new user object and \n        // requires server calls to push the user to backend database\n        if (this.validator()){\n            signup(this, app);\n            this.props.history.push(\"/login\");\n        }\n    }\n\n    validator(){\n        let isValid = true;\n        \n        if (this.state.username.length < 1){\n            isValid = false;\n            alert(\"Username cannot be empty\");\n            return isValid;\n        }\n        if (this.state.password.length < 4){\n            isValid = false;\n            alert(\"Password needs a minimum length of 4\");\n            return isValid;\n        }\n        return isValid;\n    }\n\n    render(){\n        return(\n            <div className=\"signup-page\">\n            <Container maxWidth='md'> \n                <div className = \"logo\">\n                    <img src={cookpadIcon} alt=\"cookpad\"/>\n                    <span className = \"name\">COOKPAD</span>\n                </div>\n                <form className=\"signup-form\" onSubmit={this.onSubmit}>\n                    <div className=\"form-group\" id=\"upload-pic\">\n                        <Avatar \n                            width={420}\n                            height={250} \n                            round={true}\n                            cropRadius={10} \n                            label={\"Choose a profile picture\"}\n                            onImageLoad={this.onImageLoad}\n                            onCrop={this.onCrop}\n                            onClose={this.onClose}\n                            src={this.state.profilePic}\n                        /> \n                    </div> \n                    <div className=\"form-group\">\n                        <label>Username: </label>\n                        <input type=\"username\" required placeholder=\"E.g: 123\" className=\"form-control\" value={this.state.username} onChange={this.onChangeUsername}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Password: </label>\n                        <input type=\"password\" required placeholder=\"Your Password\" className=\"form-control\" value={this.state.password} onChange={this.onChangePassword}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Description: </label>\n                        <input type=\"description\" placeholder=\"Personal Description (Optional)\" className=\"form-control\" value={this.state.description} onChange={this.onChangeDescription}/>\n                    </div>\n                    <div id=\"signup-button\" className=\"form-group\">\n                        <input type=\"submit\" value=\"Signup\" className=\"btn btn-primary\"/>\n                    </div>\n                </form>\n                <div className = \"link-signup\">Already have an account?{\" \"}\n                <Link to='/'>Log in here</Link>\n                <br/>\n                </div>\n            </Container>  \n            </div>\n        );\n    }\n} "]},"metadata":{},"sourceType":"module"}