{"ast":null,"code":"import _toConsumableArray from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./editRecipe.css';import Navbar from\"../Navbar/navbar.component\";import recipe1 from'../../recipes/butter-chicken.jpg';import{Multiselect}from'multiselect-react-dropdown';import Container from\"@material-ui/core/Container\";import Dropdown from'react-dropdown';import ImageUploader from'react-images-upload';import Col from'react-bootstrap/Col';var UnitType=['(quantity)','kg','g','mg','cup(s)','teaspoon(s)','tablespoon(s)','mL','L','oz','lb(s)'];var categoriesOptions=[{name:\"Cake\",id:0},{name:\"Noodles\",id:1},{name:\"Pie\",id:2},{name:\"Pizza\",id:3},{name:\"Salads\",id:4},{name:\"Sandwiches\",id:5},{name:\"Seafood\",id:6},{name:\"Soup\",id:7}];var EditRecipe=/*#__PURE__*/function(_Component){_inherits(EditRecipe,_Component);var _super=_createSuper(EditRecipe);function EditRecipe(props){var _this;_classCallCheck(this,EditRecipe);_this=_super.call(this,props);_this.ReturnView=function(e){e.preventDefault();// server calls are required to push the updated recipe to the server\n_this.props.history.push(\"/viewrecipe/\"+_this.state.rid);};_this.onCancel=function(e){e.preventDefault();_this.props.history.push(\"/viewrecipe/\"+_this.state.rid);};_this.onChangeRecipeName=function(e){e.preventDefault();_this.setState({name:e.target.value});};_this.onChangeDescription=function(e){e.preventDefault();_this.setState({description:e.target.value});};_this.onChangeIngredientsName=function(e,index){var ingredients=_this.state.ingredients;ingredients[index].name=e.target.value;_this.setState({ingredients:ingredients});};_this.onChangeIngredientsQuan=function(e,index){var ingredients=_this.state.ingredients;ingredients[index].quantity=e.target.value;_this.setState({ingredients:ingredients});};_this.addIngredientsRow=function(){_this.setState(function(prevState){return{ingredients:[].concat(_toConsumableArray(prevState.ingredients),[{name:\"\",quantity:\"\",unit:\"\"}])};});};_this.onChangeRemoveIngredients=function(index){_this.state.ingredients.splice(index,1);_this.setState({ingredients:_this.state.ingredients});};_this.onChangeSteps=function(e,index){var steps=_this.state.steps;steps[index]=e.target.value;_this.setState({steps:steps});};_this.addStepsRow=function(){_this.setState(function(prevState){return{steps:[].concat(_toConsumableArray(prevState.steps),[\"\"])};});};_this.onChangeRemoveSteps=function(index){_this.state.steps.splice(index,1);_this.setState({steps:_this.state.steps});};_this.onImageUpload=function(picture){_this.setState({filePath:_this.state.filePath.concat(picture)});};_this.props.history.push('/editrecipe/'+_this.props.match.params.rid);// requires server call to fetch the recipe information\n_this.state={rid:_this.props.match.params.rid,name:'Butter Chicken',description:'',categories:[7],ingredients:[{name:\"Butter\",quantity:\"2\",unit:6},{name:\"Medium onion\",quantity:\"1\",unit:0},{name:\"Red pepper\",quantity:\"1\",unit:0},{name:\"Garlic cloves\",quantity:\"3\",unit:0},{name:\"Grated ginger\",quantity:\"1\",unit:6},{name:\"Garam masala\",quantity:\"1\",unit:5},{name:\"Cumin\",quantity:\"1\",unit:5},{name:\"Red chili powder\",quantity:\"1\",unit:5},{name:\"Diced tomatoes\",quantity:\"14\",unit:9},{name:\"Heavy cream\",quantity:\"1\",unit:4},{name:\"Salt and pepper\",quantity:\"To taste\",unit:0}],steps:[\"Heat a large pan to medium high heat and add the olive oil. Add the chicken and cook for 5 minutes, stirring, until the chicken is browned. Remove the chicken and set it aside.\",\"Melt the butter in the same pan. Add the onion and peppers and cook them 5 minutes to soften.\",\"Add the garlic and ginger and cook 1 minute, until they become fragrant.\",\"Add the garam masala, cumin, red chili powder, salt and pepper. Stir and cook for 1 minute.\",\"Stir in the diced tomatoes. Bring to a quick boil, then reduce the heat and simmer for 15 minutes to break everything down.\",\"Transfer the sauce to a blender or food processor and process until smooth. You can thin it out with a bit of water if you’d like.\",\"Strain the sauce back into the pan. The point is to make the sauce very smooth and heat through.\",\"Stir in the cream and add the chicken back to the pan. Heat and simmer for 10 minutes, or until the chicken is cooked through and the sauce thickens up a bit.\",\"Serve with cooked white rice and enjoy!\"],filePath:recipe1};return _this;}_createClass(EditRecipe,[{key:\"componentDidMount\",value:function componentDidMount(){// this is where the server calls are invoked\n// state variable is updated here\n}},{key:\"render\",value:function render(){var _this2=this;var app=this.props.app;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{app:app}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.ReturnView,className:\"edit-recipe\"},/*#__PURE__*/React.createElement(\"b\",null,\"Edit Your Recipe\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Name\",required:true,className:\"form-control\",value:this.state.name,onChange:this.onChangeRecipeName})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Description: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Description\",placeholder:\"optional\",className:\"form-control\",value:this.state.description,onChange:this.onChangeDescription})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Cuisine Type: \"),/*#__PURE__*/React.createElement(Multiselect,{placeholder:\"Select cuisine type(s)\",options:categoriesOptions,selectedValues:this.state.categories,onSelect:this.onSelect,onRemove:this.onRemove,displayValue:\"name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"Ingredient-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Ingredients: \"),this.state.Ingredients.map(function(Ingredient,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",id:\"Ingredient-row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:5},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"name\",className:\"form-control\",value:Ingredient.name,onChange:function onChange(e){return _this2.onChangeIngredientsName(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:2},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"quantity\",className:\"form-control\",value:Ingredient.quantity,onChange:function onChange(e){return _this2.onChangeIngredientsQuan(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:3},/*#__PURE__*/React.createElement(Dropdown,{className:\"UnitSelector\",options:UnitType,onChange:_this2._onSelect,value:UnitType[Ingredient.unit]})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:1},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",id:\"remove-ingredient\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveIngredients(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddIngredient-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-ingredient\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addIngredientsRow},\"Add Ingredients\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Step-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Steps: \"),this.state.Steps.map(function(step,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:10},/*#__PURE__*/React.createElement(\"textarea\",{type:\"Steps\",required:true,className:\"form-control\",value:step,onChange:function onChange(e){return _this2.onChangeSteps(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",id:\"remove-step\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveSteps(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddSteps-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-step\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addStepsRow},\"Add Steps\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Please upload a picture of your recipe if you want to update: \"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{alt:\"recipe\",className:\"Image\",src:this.state.filePath}),/*#__PURE__*/React.createElement(ImageUploader,{withIcon:false,withPreview:true,singleImage:true,buttonText:\"Upload a picture for your recipe\",onChange:this.onImageUpload,imgExtension:['.jpg','.png','.JPG','.PNG'],maxFileSize:5242880}))),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"Submit\",value:\"Update Recipe\",className:\"btn btn-primary\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",id:\"cancel-edit\",className:\"btn btn-primary\",onClick:this.onCancel},\"Cancel\")))));}}]);return EditRecipe;}(Component);export{EditRecipe as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/editRecipe/editRecipe.component.js"],"names":["React","Component","Navbar","recipe1","Multiselect","Container","Dropdown","ImageUploader","Col","UnitType","categoriesOptions","name","id","EditRecipe","props","ReturnView","e","preventDefault","history","push","state","rid","onCancel","onChangeRecipeName","setState","target","value","onChangeDescription","description","onChangeIngredientsName","index","ingredients","onChangeIngredientsQuan","quantity","addIngredientsRow","prevState","unit","onChangeRemoveIngredients","splice","onChangeSteps","steps","addStepsRow","onChangeRemoveSteps","onImageUpload","picture","filePath","concat","match","params","categories","app","onSelect","onRemove","Ingredients","map","Ingredient","_onSelect","Steps","step"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './editRecipe.css'\nimport Navbar from \"../Navbar/navbar.component\" \nimport recipe1 from '../../recipes/butter-chicken.jpg'\nimport {Multiselect} from 'multiselect-react-dropdown';\nimport Container from \"@material-ui/core/Container\"\nimport Dropdown from 'react-dropdown';\nimport ImageUploader from 'react-images-upload'; \nimport Col from 'react-bootstrap/Col';\n\nconst UnitType = ['(quantity)','kg', 'g','mg', 'cup(s)', 'teaspoon(s)', 'tablespoon(s)', 'mL', 'L', 'oz', 'lb(s)'];\nconst categoriesOptions =[\n    {name: \"Cake\", id: 0},\n    {name: \"Noodles\", id: 1},\n    {name: \"Pie\", id: 2},\n    {name: \"Pizza\", id: 3},\n    {name: \"Salads\", id: 4},\n    {name: \"Sandwiches\", id: 5},\n    {name: \"Seafood\", id: 6},\n    {name: \"Soup\", id: 7}\n]; \nexport default class EditRecipe extends Component {\n    constructor(props){\n        super(props);\n\n        this.props.history.push('/editrecipe/'+this.props.match.params.rid)\n        // requires server call to fetch the recipe information\n        this.state = {\n            rid: this.props.match.params.rid,\n            name: 'Butter Chicken',\n            description: '',\n            categories: [7],\n            ingredients: [\n                {name:\"Butter\", quantity:\"2\", unit:6},\n                {name:\"Medium onion\", quantity:\"1\", unit:0},\n                {name:\"Red pepper\", quantity:\"1\", unit:0},\n                {name:\"Garlic cloves\", quantity:\"3\", unit:0},\n                {name:\"Grated ginger\", quantity:\"1\", unit:6},\n                {name:\"Garam masala\", quantity:\"1\", unit:5},\n                {name:\"Cumin\", quantity:\"1\", unit:5},\n                {name:\"Red chili powder\", quantity:\"1\", unit:5},\n                {name:\"Diced tomatoes\", quantity:\"14\", unit:9},\n                {name:\"Heavy cream\", quantity:\"1\", unit:4},\n                {name:\"Salt and pepper\", quantity:\"To taste\", unit:0}\n            ],\n            steps:[\n                \"Heat a large pan to medium high heat and add the olive oil. Add the chicken and cook for 5 minutes, stirring, until the chicken is browned. Remove the chicken and set it aside.\", \n                \"Melt the butter in the same pan. Add the onion and peppers and cook them 5 minutes to soften.\",\n                \"Add the garlic and ginger and cook 1 minute, until they become fragrant.\",\n                \"Add the garam masala, cumin, red chili powder, salt and pepper. Stir and cook for 1 minute.\",\n                \"Stir in the diced tomatoes. Bring to a quick boil, then reduce the heat and simmer for 15 minutes to break everything down.\",\n                \"Transfer the sauce to a blender or food processor and process until smooth. You can thin it out with a bit of water if you’d like.\",\n                \"Strain the sauce back into the pan. The point is to make the sauce very smooth and heat through.\",\n                \"Stir in the cream and add the chicken back to the pan. Heat and simmer for 10 minutes, or until the chicken is cooked through and the sauce thickens up a bit.\",\n                \"Serve with cooked white rice and enjoy!\"\n            ],\n            filePath: recipe1\n        }\n    }\n\n    componentDidMount() {\n        // this is where the server calls are invoked\n        // state variable is updated here\n    }\n\n    ReturnView=(e)=>{\n        e.preventDefault();\n        // server calls are required to push the updated recipe to the server\n        this.props.history.push(\"/viewrecipe/\"+this.state.rid)\n    }\n\n    onCancel=(e)=>{\n        e.preventDefault();\n        this.props.history.push(\"/viewrecipe/\"+this.state.rid)\n    }\n\n    onChangeRecipeName = (e) =>{\n        e.preventDefault();\n        this.setState({ name: e.target.value });\n    }\n\n    onChangeDescription = (e) =>{\n        e.preventDefault();\n        this.setState({ description: e.target.value });\n    }\n\n    onChangeIngredientsName = (e,index)=>{\n        let ingredients = this.state.ingredients;\n        ingredients[index].name = e.target.value;\n        this.setState({ ingredients: ingredients });\n    }\n\n    onChangeIngredientsQuan=(e,index)=>{\n        let ingredients = this.state.ingredients;\n        ingredients[index].quantity = e.target.value;\n        this.setState({ ingredients: ingredients });\n    }\n\n    addIngredientsRow=()=>{\n       this.setState((prevState)=>({ingredients:[...prevState.ingredients, {name: \"\", quantity:\"\", unit:\"\"}],\n        }));\n    }\n\n    onChangeRemoveIngredients=(index)=>{\n        this.state.ingredients.splice(index,1);\n        this.setState({ingredients: this.state.ingredients})\n    }\n\n    onChangeSteps=(e,index)=>{\n        let steps = this.state.steps;\n        steps[index] = e.target.value;\n        this.setState({ steps: steps });\n    }\n\n    addStepsRow=()=>{\n        this.setState((prevState)=>({steps:[...prevState.steps, \"\"],\n        }));\n    }\n\n    onChangeRemoveSteps=(index)=>{\n        this.state.steps.splice(index,1);\n        this.setState({steps: this.state.steps})\n    }\n\n    onImageUpload=(picture)=>{\n        this.setState({filePath: this.state.filePath.concat(picture)});\n    }\n\n    render(){\n        const { app } = this.props;\n\n        return(\n            <div> \n            <Container maxWidth='md'>\n                <Navbar app={app}/>\n                <form onSubmit={this.ReturnView} className=\"edit-recipe\">\n                    <b>Edit Your Recipe</b>\n                    <div className=\"form-group\">\n                    <label> Recipe Name: </label>\n                        <input \n                            type = \"Name\" \n                            required \n                            className = \"form-control\" \n                            value = {this.state.name} \n                            onChange={this.onChangeRecipeName}\n                        />\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label> Recipe Description: </label>\n                        <input \n                            type = \"Description\" \n                            placeholder=\"optional\" \n                            className = \"form-control\" \n                            value = {this.state.description} \n                            onChange={this.onChangeDescription}\n                        />\n                    </div>\n                    <div className=\"Recipe-form\">\n                        <label>Cuisine Type: </label>\n                        <Multiselect\n                            placeholder = \"Select cuisine type(s)\"\n                            options={categoriesOptions} \n                            selectedValues={this.state.categories} \n                            onSelect={this.onSelect} \n                            onRemove={this.onRemove} \n                            displayValue=\"name\" \n                        />\n                    </div>\n                    <div className = \"Ingredient-form\" >\n                        <label> Recipe Ingredients: </label>\n                        {\n                            this.state.Ingredients.map((Ingredient, index) => {\n                                return(\n                                    <div className=\"row\" id=\"Ingredient-row\" key={index}>\n                                        <Col className=\"col\" xs={5}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"name\"\n                                                className = \"form-control\"\n                                                value = {Ingredient.name} \n                                                onChange={(e)=>this.onChangeIngredientsName(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={2}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"quantity\"\n                                                className = \"form-control\" \n                                                value = {Ingredient.quantity} \n                                                onChange={(e)=>this.onChangeIngredientsQuan(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={3}>\n                                            <Dropdown\n                                                className = \"UnitSelector\"\n                                                options={UnitType} \n                                                onChange={this._onSelect} \n                                                value={UnitType[Ingredient.unit]} \n                                            />\n                                        </Col>\n                                        <Col className =\"col\" xs={1}>\n                                            <button \n                                                type=\"button\"\n                                                id=\"remove-ingredient\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveIngredients(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        } \n                    </div>\n                    <div className=\"AddIngredient-btn\">\n                        <button id=\"add-ingredient\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addIngredientsRow} >\n                            Add Ingredients\n                        </button>\n                    </div>\n                    <div className = \"Step-form\">\n                        <label> Recipe Steps: </label>\n                        {\n                            this.state.Steps.map((step, index) => {\n                                return(\n                                    <div className=\"row\" key={index}>\n                                        <Col className = \"col\" xs = {10}>\n                                            <textarea \n                                                type = \"Steps\" \n                                                required \n                                                className = \"form-control\" \n                                                value = {step} \n                                                onChange={(e)=>this.onChangeSteps(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className =\"col\">\n                                            <button \n                                                type=\"button\"\n                                                id=\"remove-step\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveSteps(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        }\n                    </div>\n                    <div className=\"AddSteps-btn\">\n                        <button id = \"add-step\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addStepsRow} >\n                            Add Steps\n                        </button> \n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label>Please upload a picture of your recipe if you want to update: </label>\n                        <div>\n                            <img alt=\"recipe\" className=\"Image\"src={this.state.filePath}/> \n                            <ImageUploader\n                                withIcon = {false}\n                                withPreview = {true}\n                                singleImage = {true}\n                                buttonText = 'Upload a picture for your recipe'\n                                onChange={this.onImageUpload}\n                                imgExtension={['.jpg', '.png', '.JPG', '.PNG']}\n                                maxFileSize={5242880}\n                            />\n                        </div>\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <input \n                            type = \"Submit\" \n                            value = \"Update Recipe\" \n                            className = \"btn btn-primary\"\n                        />\n                        <button \n                            type=\"button\"\n                            id=\"cancel-edit\"\n                            className = \"btn btn-primary\" \n                            onClick={this.onCancel}>Cancel</button>\n                    </div>\n                </form>\n            </Container>\n            </div>  \n        )\n    }\n} "]},"metadata":{},"sourceType":"module"}