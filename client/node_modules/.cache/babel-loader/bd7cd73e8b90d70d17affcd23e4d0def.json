{"ast":null,"code":"import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Navbar from\"../Navbar/navbar.component\";import{Link}from\"react-router-dom\";import Container from\"@material-ui/core/Container\";import Ingredients from\"./ingredients.component\";import Steps from\"./steps.component\";import{uid}from\"react-uid\";import'./viewRecipe.css';import Card from'@material-ui/core/Card';import CardActionArea from'@material-ui/core/CardActionArea';import CardActions from'@material-ui/core/CardActions';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import Typography from'@material-ui/core/Typography';import Favorite from'@material-ui/icons/Favorite';import FavoriteBorder from'@material-ui/icons/FavoriteBorder';import BookmarkIcon from'@material-ui/icons/Bookmark';import BookmarkBorderIcon from'@material-ui/icons/BookmarkBorder';import{yellow}from'@material-ui/core/colors';import Checkbox from'@material-ui/core/Checkbox';import FormControlLabel from'@material-ui/core/FormControlLabel';// hardcoded images\nimport recipe1 from'../../recipes/butter-chicken.jpg';import recipe2 from'../../recipes/lemon-zucchini-bread.jpg';import recipe3 from'../../recipes/ramen.jpg';import{withStyles}from'@material-ui/core/styles';var styles={card:{borderRadius:20},likeButton:{paddingLeft:40},saveButton:{marginLeft:385}};var ViewRecipe=/*#__PURE__*/function(_Component){_inherits(ViewRecipe,_Component);var _super=_createSuper(ViewRecipe);function ViewRecipe(props){var _this;_classCallCheck(this,ViewRecipe);_this=_super.call(this,props);_this.clickStar=function(rid){// requires server calls to update the recipe information\nvar new_recipe=_this.state.recipe;if(_this.state.recipe.collected){new_recipe.collected=false;_this.setState({recipes:new_recipe});}else{new_recipe.collected=true;_this.setState({recipes:new_recipe});}};_this.clickHeart=function(rid){// requires server calls to update the recipe information\nvar new_recipe=_this.state.recipe;if(_this.state.recipe.liked){new_recipe.liked=false;new_recipe.likes--;_this.setState({recipes:new_recipe});}else{new_recipe.liked=true;new_recipe.likes++;_this.setState({recipes:new_recipe});}};_this.editRecipe=function(e){e.preventDefault();_this.props.history.push(\"/editRecipe/\"+_this.state.recipe.id);};_this.deleteRecipe=function(e,app){e.preventDefault();if(window.confirm('Are you sure you wish to delete this item?')){// requires server calls to delete item in database\nconsole.log(\"item deleted\");_this.props.history.push(\"/viewprofile/\"+app.state.currentUser._id);}};_this.props.history.push('/viewrecipe/'+_this.props.match.params.rid);// requires server calls to update the information based on the recipe id\n_this.state={top3_recipe:[{id:1,src:recipe2,liked:false,collected:false,title:'Lemon Zucchini Bread',likes:100,categories:[0]},{id:2,src:recipe3,liked:false,collected:false,title:'Ramen',likes:98,categories:[1]}],recipe:{id:0,src:recipe1,liked:false,title:'Butter Chicken',likes:123,categories:[7],collected:false,creator:{uid:1,username:\"Catherine\"},ingredients:[{ingredient:\"Butter\",measure:\"2 tablespoons\"},{ingredient:\"Medium onion\",measure:\"1 (medium diced)\"},{ingredient:\"Red pepper\",measure:\"1 (small dice)\"},{ingredient:\"Garlic cloves\",measure:\"3 (minced)\"},{ingredient:\"Grated ginger\",measure:\"1 tablespoon\"},{ingredient:\"Garam masala\",measure:\"1 teaspoon\"},{ingredient:\"Cumin\",measure:\"1 teaspoon\"},{ingredient:\"Red chili powder\",measure:\"1 teaspoon\"},{ingredient:\"Diced tomatoes\",measure:\"14 ounces\"},{ingredient:\"Heavy cream\",measure:\"1 cup\"},{ingredient:\"Salt and pepper\",measure:\"To taste\"}],steps:[\"Heat a large pan to medium high heat and add the olive oil. Add the chicken and cook for 5 minutes, stirring, until the chicken is browned. Remove the chicken and set it aside.\",\"Melt the butter in the same pan. Add the onion and peppers and cook them 5 minutes to soften.\",\"Add the garlic and ginger and cook 1 minute, until they become fragrant.\",\"Add the garam masala, cumin, red chili powder, salt and pepper. Stir and cook for 1 minute.\",\"Stir in the diced tomatoes. Bring to a quick boil, then reduce the heat and simmer for 15 minutes to break everything down.\",\"Transfer the sauce to a blender or food processor and process until smooth. You can thin it out with a bit of water if youâ€™d like.\",\"Strain the sauce back into the pan. The point is to make the sauce very smooth and heat through.\",\"Stir in the cream and add the chicken back to the pan. Heat and simmer for 10 minutes, or until the chicken is cooked through and the sauce thickens up a bit.\",\"Serve with cooked white rice and enjoy!\"]}};return _this;}_createClass(ViewRecipe,[{key:\"componentDidMount\",value:function componentDidMount(){// requires server calls to initialize recipe information\n}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,classes=_this$props.classes,app=_this$props.app;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{app:app}),/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-des\"},/*#__PURE__*/React.createElement(Card,{className:classes.card},/*#__PURE__*/React.createElement(CardMedia,{component:\"img\",alt:this.state.recipe.title,image:this.state.recipe.src}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h4\",component:\"h4\"},this.state.recipe.title),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"textSecondary\",component:\"h6\"},/*#__PURE__*/React.createElement(Link,{to:\"/viewprofile/\"+this.state.recipe.creator.uid},\"By: \"+this.state.recipe.creator.username))),/*#__PURE__*/React.createElement(CardActions,{disableSpacing:true},/*#__PURE__*/React.createElement(\"div\",{className:\"like-class\"},/*#__PURE__*/React.createElement(FormControlLabel,{className:classes.likeButton,labelPlacement:\"end\",control:/*#__PURE__*/React.createElement(Checkbox,{checked:this.state.recipe.liked,disableRipple:true,onChange:function onChange(){return _this2.clickHeart(_this2.state.recipe.id);},icon:/*#__PURE__*/React.createElement(FavoriteBorder,{fontSize:\"large\"}),checkedIcon:/*#__PURE__*/React.createElement(Favorite,{fontSize:\"large\"}),name:\"liked\"}),label:this.state.recipe.likes}),/*#__PURE__*/React.createElement(FormControlLabel,{className:classes.saveButton,control:/*#__PURE__*/React.createElement(Checkbox,{disableRipple:true,onChange:function onChange(){return _this2.clickStar(_this2.state.recipe.id);},icon:/*#__PURE__*/React.createElement(BookmarkBorderIcon,{fontSize:\"large\"}),checkedIcon:/*#__PURE__*/React.createElement(BookmarkIcon,{fontSize:\"large\",style:{color:yellow[600]}}),name:\"saved\"})}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"recommendations\"},this.state.top3_recipe.map(function(recipe){return/*#__PURE__*/React.createElement(\"div\",{key:uid(recipe.title),className:\"view-other\"},/*#__PURE__*/React.createElement(Link,{to:\"/viewrecipe/\"+recipe.id},/*#__PURE__*/React.createElement(Card,{className:classes.card},/*#__PURE__*/React.createElement(CardActionArea,null,/*#__PURE__*/React.createElement(CardMedia,{height:\"200\",component:\"img\",alt:recipe.title,image:recipe.src}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h6\",component:\"h6\"},recipe.title))))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"mid-section\"},/*#__PURE__*/React.createElement(Steps,{steps:this.state.recipe.steps}),/*#__PURE__*/React.createElement(Ingredients,{ingredients:this.state.recipe.ingredients})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"view-recipe-form-group\"},/*#__PURE__*/React.createElement(\"form\",{float:\"left\",onSubmit:this.editRecipe},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Edit\",className:\"btn btn-primary\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"view-recipe-form-group\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this2.deleteRecipe(e,app);}},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Delete\",className:\"btn btn-primary\"}))))));}}]);return ViewRecipe;}(Component);export default withStyles(styles)(ViewRecipe);","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/viewRecipe/viewRecipe.component.js"],"names":["React","Component","Navbar","Link","Container","Ingredients","Steps","uid","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","Favorite","FavoriteBorder","BookmarkIcon","BookmarkBorderIcon","yellow","Checkbox","FormControlLabel","recipe1","recipe2","recipe3","withStyles","styles","card","borderRadius","likeButton","paddingLeft","saveButton","marginLeft","ViewRecipe","props","clickStar","rid","new_recipe","state","recipe","collected","setState","recipes","clickHeart","liked","likes","editRecipe","e","preventDefault","history","push","id","deleteRecipe","app","window","confirm","console","log","currentUser","_id","match","params","top3_recipe","src","title","categories","creator","username","ingredients","ingredient","measure","steps","classes","color","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Navbar from \"../Navbar/navbar.component\";\nimport { Link } from \"react-router-dom\"\nimport Container from \"@material-ui/core/Container\"\nimport Ingredients from \"./ingredients.component\"\nimport Steps from \"./steps.component\"\nimport {uid} from \"react-uid\"\nimport './viewRecipe.css'\n\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Favorite from '@material-ui/icons/Favorite';\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\nimport { yellow } from '@material-ui/core/colors';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n// hardcoded images\nimport recipe1 from '../../recipes/butter-chicken.jpg'\nimport recipe2 from '../../recipes/lemon-zucchini-bread.jpg'\nimport recipe3 from '../../recipes/ramen.jpg'\n\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = {\n    card:{\n        borderRadius: 20,\n    },\n    likeButton:{\n        paddingLeft: 40,\n    },\n    saveButton: {\n        marginLeft: 385,\n    },\n  };\n\nclass ViewRecipe extends Component {\n    constructor(props){\n        super(props);\n        this.props.history.push('/viewrecipe/'+this.props.match.params.rid);\n        // requires server calls to update the information based on the recipe id\n        this.state = {\n            top3_recipe:[\n                {id:1, src:recipe2, liked: false, collected: false, title:'Lemon Zucchini Bread', likes: 100, categories:[0]},\n                {id:2, src:recipe3, liked: false, collected: false, title:'Ramen', likes:98, categories:[1]}\n            ],\n            recipe: {id:0, src:recipe1, liked: false, title:'Butter Chicken', likes: 123, categories:[7], collected: false,\n            creator:{uid:1, username:\"Catherine\"}, \n            ingredients: [\n                {ingredient:\"Butter\", measure:\"2 tablespoons\"},\n                {ingredient:\"Medium onion\", measure:\"1 (medium diced)\"},\n                {ingredient:\"Red pepper\", measure:\"1 (small dice)\"},\n                {ingredient:\"Garlic cloves\", measure:\"3 (minced)\"},\n                {ingredient:\"Grated ginger\", measure:\"1 tablespoon\"},\n                {ingredient:\"Garam masala\", measure:\"1 teaspoon\"},\n                {ingredient:\"Cumin\", measure:\"1 teaspoon\"},\n                {ingredient:\"Red chili powder\", measure:\"1 teaspoon\"},\n                {ingredient:\"Diced tomatoes\", measure:\"14 ounces\"},\n                {ingredient:\"Heavy cream\", measure:\"1 cup\"},\n                {ingredient:\"Salt and pepper\", measure:\"To taste\"}\n            ], \n            steps: [\n                \"Heat a large pan to medium high heat and add the olive oil. Add the chicken and cook for 5 minutes, stirring, until the chicken is browned. Remove the chicken and set it aside.\", \n                \"Melt the butter in the same pan. Add the onion and peppers and cook them 5 minutes to soften.\",\n                \"Add the garlic and ginger and cook 1 minute, until they become fragrant.\",\n                \"Add the garam masala, cumin, red chili powder, salt and pepper. Stir and cook for 1 minute.\",\n                \"Stir in the diced tomatoes. Bring to a quick boil, then reduce the heat and simmer for 15 minutes to break everything down.\",\n                \"Transfer the sauce to a blender or food processor and process until smooth. You can thin it out with a bit of water if youâ€™d like.\",\n                \"Strain the sauce back into the pan. The point is to make the sauce very smooth and heat through.\",\n                \"Stir in the cream and add the chicken back to the pan. Heat and simmer for 10 minutes, or until the chicken is cooked through and the sauce thickens up a bit.\",\n                \"Serve with cooked white rice and enjoy!\"\n            ]\n        }\n        }\n    }\n\n    componentDidMount() {\n        // requires server calls to initialize recipe information\n    }\n\n    clickStar=(rid)=>{\n        // requires server calls to update the recipe information\n        let new_recipe = this.state.recipe;\n        if(this.state.recipe.collected){\n            new_recipe.collected = false;\n            this.setState({ recipes: new_recipe });\n        }else{\n            new_recipe.collected = true;\n            this.setState({ recipes: new_recipe });\n        }\n    }\n\n    clickHeart=(rid)=>{\n        // requires server calls to update the recipe information\n        let new_recipe = this.state.recipe;\n        if(this.state.recipe.liked){\n            new_recipe.liked = false;\n            new_recipe.likes--;\n            this.setState({ recipes: new_recipe });\n        }else{\n            new_recipe.liked = true;\n            new_recipe.likes++;\n            this.setState({ recipes: new_recipe });\n        }\n    }\n\n    editRecipe=(e)=>{\n        e.preventDefault();\n        this.props.history.push(\"/editRecipe/\" + this.state.recipe.id);\n    }\n\n    deleteRecipe=(e, app)=>{\n        e.preventDefault();\n        if (window.confirm('Are you sure you wish to delete this item?')){\n            // requires server calls to delete item in database\n            console.log(\"item deleted\")\n            this.props.history.push(\"/viewprofile/\"+ app.state.currentUser._id)\n        } \n    }\n\n    render(){\n        const {classes, app} = this.props;\n        return(\n            <div>\n            <Container maxWidth=\"md\">\n                <Navbar app={app}/>\n                <div className=\"recipe-des\">\n                    <Card className={classes.card}>\n                        <CardMedia\n                            component=\"img\"\n                            alt={this.state.recipe.title}\n                            image={this.state.recipe.src}\n                        />\n                        <CardContent>\n                        <Typography gutterBottom variant=\"h4\" component=\"h4\">\n                            {this.state.recipe.title}\n                        </Typography>\n                        <Typography variant=\"h6\" color=\"textSecondary\" component=\"h6\">\n                            <Link to={\"/viewprofile/\"+ this.state.recipe.creator.uid}>{\"By: \"+this.state.recipe.creator.username}</Link>\n                        </Typography>\n                        </CardContent>\n                        <CardActions disableSpacing>\n                            <div className=\"like-class\">\n                                <FormControlLabel\n                                className={classes.likeButton}\n                                labelPlacement=\"end\"\n                                control={<Checkbox checked= {this.state.recipe.liked}disableRipple={true} onChange={()=>this.clickHeart(this.state.recipe.id)} icon={<FavoriteBorder fontSize=\"large\"/>} checkedIcon={<Favorite fontSize=\"large\"/>} name=\"liked\" />} \n                                label={this.state.recipe.likes}\n                                />\n                                <FormControlLabel\n                                className={classes.saveButton}\n                                control={<Checkbox disableRipple={true} onChange={()=>this.clickStar(this.state.recipe.id)} icon={<BookmarkBorderIcon fontSize=\"large\"/>} checkedIcon={<BookmarkIcon fontSize=\"large\" style={{color: yellow[600] }}/>} name=\"saved\" />} \n                                /> \n                            </div>\n                        </CardActions>\n                    </Card>\n                </div>\n\n                <div className=\"recommendations\">\n                {this.state.top3_recipe.map((recipe)=>(\n                    <div key={uid(recipe.title)} className=\"view-other\">\n                        <Link to={\"/viewrecipe/\" + recipe.id}>\n                        <Card className={classes.card}>\n                            <CardActionArea>\n                                <CardMedia\n                                    height=\"200\"\n                                    component=\"img\"\n                                    alt={recipe.title}\n                                    image={recipe.src}\n                                />\n                                <CardContent>\n                                <Typography gutterBottom variant=\"h6\" component=\"h6\">\n                                    {recipe.title}\n                                </Typography>\n                                </CardContent>\n                            </CardActionArea>\n                        </Card>\n                        </Link>\n                    </div>\n                    ))}\n                </div>\n                \n                <div className=\"mid-section\">\n                    <Steps\n                        steps={this.state.recipe.steps}\n                    />\n\n                    <Ingredients\n                        ingredients={this.state.recipe.ingredients}\n                    />\n                </div>\n\n                {/* only show the two button if they belong to the user */}\n                <div>\n                    <div className=\"view-recipe-form-group\">\n                        <form float=\"left\" onSubmit={this.editRecipe}><input type=\"submit\" value=\"Edit\" className=\"btn btn-primary\"/></form>\n                    </div>\n                    <div className=\"view-recipe-form-group\">\n                        <form onSubmit={(e)=>this.deleteRecipe(e, app)}><input type=\"submit\" value=\"Delete\" className=\"btn btn-primary\"/></form>\n                    </div>\n                </div>\n            </Container> \n            </div> \n        )\n    }\n} \n\nexport default withStyles(styles)(ViewRecipe);"]},"metadata":{},"sourceType":"module"}