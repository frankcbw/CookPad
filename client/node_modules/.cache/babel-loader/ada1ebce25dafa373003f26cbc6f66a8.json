{"ast":null,"code":"import _regeneratorRuntime from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from\"axios\";import'./addRecipe.css';import Navbar from\"../Navbar/navbar.component\";import Dropdown from'react-dropdown';import Container from\"@material-ui/core/Container\";import{Multiselect}from'multiselect-react-dropdown';import ImageUploader from'react-images-upload';import'react-dropdown/style.css';import Col from'react-bootstrap/Col';import{addRecipe}from\"../../actions/recipe\";var UnitType=['(quantity)','kg','g','mg','cup(s)','teaspoon(s)','tablespoon(s)','mL','L','oz','lb(s)'];var AddRecipe=/*#__PURE__*/function(_Component){_inherits(AddRecipe,_Component);var _super=_createSuper(AddRecipe);function AddRecipe(props){var _this;_classCallCheck(this,AddRecipe);_this=_super.call(this,props);_this.onChangeRecipeName=function(e){e.preventDefault();_this.setState({name:e.target.value});};_this.onChangeDescription=function(e){e.preventDefault();_this.setState({description:e.target.value});};_this.onChangeIngredientsName=function(e,index){var newIngredients=_this.state.ingredients;newIngredients[index].name=e.target.value;_this.setState({ingredients:newIngredients});};_this.onChangeIngredientsQuan=function(e,index){var newIngredients=_this.state.ingredients;newIngredients[index].quantity=e.target.value;_this.setState({ingredients:newIngredients});};_this.onSelectIngredientsUnit=function(e,index){var newIngredients=_this.state.ingredients;newIngredients[index].unit=e.target.value;_this.setState({ingredients:newIngredients});console.log(e.target.value);};_this.addIngredientsRow=function(){_this.setState(function(prevState){return{ingredients:[].concat(_toConsumableArray(prevState.ingredients),[{name:\"\",age:\"\",unit:\"\"}])};});};_this.onChangeRemoveIngredients=function(index){var NewIngredients=_this.state.ingredients;NewIngredients.splice(index,1);_this.setState({ingredients:NewIngredients});};_this.onChangeSteps=function(e,index){var newSteps=_this.state.steps;newSteps[index]=e.target.value;_this.setState({steps:newSteps});};_this.addStepsRow=function(){_this.setState(function(prevState){return{steps:[].concat(_toConsumableArray(prevState.steps),[\"\"])};});};_this.onChangeRemoveSteps=function(index){_this.state.steps.splice(index,1);_this.setState({steps:_this.state.steps});};_this.onImageUpload=function(picture){_this.setState({file:picture[0]});};_this.onSelect=function(selectedList,selectedItem){var newCategories=_this.state.categories;newCategories.push(selectedItem.id);_this.setState({categories:newCategories});console.log(_this.state.categories);};_this.onRemove=function(selectedList,removedItem){var index=_this.state.categories.findIndex(function(element){return element==removedItem.id;});_this.state.categories.splice(index,1);_this.setState({categories:_this.state.categories});};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,app){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();addRecipe(_assertThisInitialized(_this),app);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.props.history.push(\"/addrecipe\");_this.state={creatorId:_this.props.app.state.currentUser._id,creatorUsername:_this.props.app.state.currentUser.username,name:'',description:'',ingredients:[{name:\"\",quantity:\"\",unit:\"\"}],steps:[\"\"],file:{},filePath:\"/uploads/timetable.png\",categories:[],categoriesOptions:[{name:\"Cake\",id:0},{name:\"Noodles\",id:1},{name:\"Pie\",id:2},{name:\"Pizza\",id:3},{name:\"Salads\",id:4},{name:\"Sandwiches\",id:5},{name:\"Seafood\",id:6},{name:\"Soup\",id:7}]};return _this;}_createClass(AddRecipe,[{key:\"render\",value:function render(){var _this2=this;var app=this.props.app;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{app:app}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit,className:\"add-recipe\"},/*#__PURE__*/React.createElement(\"b\",null,\"Create A Recipe\"),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Name: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Name\",required:true,placeholder:\"Your Recipe Name\",className:\"form-control\",value:this.state.name,onChange:this.onChangeRecipeName})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Description: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"Description\",required:true,placeholder:\"Enter description for your recipe\",className:\"form-control\",value:this.state.description,onChange:this.onChangeDescription})),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Cuisine Type: \"),/*#__PURE__*/React.createElement(Multiselect,{placeholder:\"Select cuisine type(s)\",options:this.state.categoriesOptions,onSelect:this.onSelect,onRemove:this.onRemove,displayValue:\"name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"Ingredient-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Ingredients: \"),this.state.ingredients.map(function(Ingredient,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",id:\"Ingredient-row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:5},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"name\",className:\"form-control\",value:Ingredient.name,onChange:function onChange(e){return _this2.onChangeIngredientsName(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:2},/*#__PURE__*/React.createElement(\"input\",{type:\"Ingredients\",required:true,placeholder:\"quantity\",className:\"form-control\",value:Ingredient.quantity,onChange:function onChange(e){return _this2.onChangeIngredientsQuan(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:3},/*#__PURE__*/React.createElement(\"select\",{class:\"form-control \",name:\"units\",id:\"units\",onChange:function onChange(e){return _this2.onSelectIngredientsUnit(e,index);}},/*#__PURE__*/React.createElement(\"option\",{value:UnitType[0]},UnitType[0]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[1]},UnitType[1]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[2]},UnitType[2]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[3]},UnitType[3]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[4]},UnitType[4]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[5]},UnitType[5]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[6]},UnitType[6]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[7]},UnitType[7]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[8]},UnitType[8]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[9]},UnitType[9]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[10]},UnitType[10]),/*#__PURE__*/React.createElement(\"option\",{value:UnitType[11]},UnitType[11]))),/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:1},/*#__PURE__*/React.createElement(\"button\",{id:\"remove-ingredient\",type:\"button\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveIngredients(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddIngredient-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-ingredient\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addIngredientsRow},\"Add Ingredients\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Step-form\"},/*#__PURE__*/React.createElement(\"label\",null,\" Recipe Steps: \"),this.state.steps.map(function(step,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\",key:index},/*#__PURE__*/React.createElement(Col,{className:\"col\",xs:10},/*#__PURE__*/React.createElement(\"textarea\",{type:\"Steps\",required:true,placeholder:\"Enter a step\",className:\"form-control\",value:step,onChange:function onChange(e){return _this2.onChangeSteps(e,index);}})),/*#__PURE__*/React.createElement(Col,{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{id:\"remove-step\",type:\"button\",className:\"btn btn-outline-primary\",onClick:function onClick(e){return _this2.onChangeRemoveSteps(index);}},\"Remove\")));})),/*#__PURE__*/React.createElement(\"div\",{className:\"AddSteps-btn\"},/*#__PURE__*/React.createElement(\"button\",{id:\"add-step\",className:\"btn btn-outline-primary\",type:\"button\",onClick:this.addStepsRow},\"Add Steps\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"label\",null,\"Please upload a picture of your recipe: \"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ImageUploader,{withIcon:false,withPreview:true,singleImage:true,buttonText:\"Upload a picture for your recipe\",onChange:this.onImageUpload,imgExtension:['.jpg','.png','.JPG','.PNG'],maxFileSize:5242880}))),/*#__PURE__*/React.createElement(\"div\",{className:\"Recipe-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"Submit\",value:\"Submit New Recipe\",className:\"btn btn-primary\"})))));}}]);return AddRecipe;}(Component);export{AddRecipe as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/addRecipe/addRecipe.component.js"],"names":["React","Component","axios","Navbar","Dropdown","Container","Multiselect","ImageUploader","Col","addRecipe","UnitType","AddRecipe","props","onChangeRecipeName","e","preventDefault","setState","name","target","value","onChangeDescription","description","onChangeIngredientsName","index","newIngredients","state","ingredients","onChangeIngredientsQuan","quantity","onSelectIngredientsUnit","unit","console","log","addIngredientsRow","prevState","age","onChangeRemoveIngredients","NewIngredients","splice","onChangeSteps","newSteps","steps","addStepsRow","onChangeRemoveSteps","onImageUpload","picture","file","onSelect","selectedList","selectedItem","newCategories","categories","push","id","onRemove","removedItem","findIndex","element","onSubmit","app","history","creatorId","currentUser","_id","creatorUsername","username","filePath","categoriesOptions","map","Ingredient","step"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from \"axios\";\nimport './addRecipe.css'\nimport Navbar from \"../Navbar/navbar.component\";\nimport Dropdown from 'react-dropdown';\nimport Container from \"@material-ui/core/Container\"\nimport {Multiselect} from 'multiselect-react-dropdown';\nimport ImageUploader from 'react-images-upload';\nimport 'react-dropdown/style.css';\nimport Col from 'react-bootstrap/Col';\n\nimport {addRecipe} from \"../../actions/recipe\"\n\nconst UnitType = ['(quantity)','kg', 'g','mg', 'cup(s)', 'teaspoon(s)', 'tablespoon(s)', 'mL', 'L', 'oz', 'lb(s)'];\n\nexport default class AddRecipe extends Component {\n    constructor(props){\n        super(props);\n        this.props.history.push(\"/addrecipe\");\n        this.state = {\n            creatorId: this.props.app.state.currentUser._id,\n            creatorUsername: this.props.app.state.currentUser.username,\n            name: '',\n            description: '',\n            ingredients: [{name:\"\", quantity:\"\", unit:\"\"}],\n            steps:[\"\"],\n            file: {},\n            filePath: \"/uploads/timetable.png\",\n            categories:[],\n            categoriesOptions :[\n                {name: \"Cake\", id: 0},\n                {name: \"Noodles\", id: 1},\n                {name: \"Pie\", id: 2},\n                {name: \"Pizza\", id: 3},\n                {name: \"Salads\", id: 4},\n                {name: \"Sandwiches\", id: 5},\n                {name: \"Seafood\", id: 6},\n                {name: \"Soup\", id: 7}\n            ]\n        }\n    }\n\n    onChangeRecipeName = (e) =>{\n        e.preventDefault();\n        this.setState({ name: e.target.value });\n    }\n\n    onChangeDescription = (e) =>{\n        e.preventDefault();\n        this.setState({ description: e.target.value });\n    }\n\n    onChangeIngredientsName = (e,index)=>{\n        const newIngredients = this.state.ingredients;\n        newIngredients[index].name = e.target.value;\n        this.setState({ ingredients: newIngredients });\n    }\n\n    onChangeIngredientsQuan=(e,index)=>{\n        const newIngredients = this.state.ingredients;\n        newIngredients[index].quantity = e.target.value;\n        this.setState({ ingredients: newIngredients });\n    }\n\n    onSelectIngredientsUnit=(e,index)=>{\n        const newIngredients = this.state.ingredients;\n        newIngredients[index].unit = e.target.value;\n        this.setState({ ingredients: newIngredients });\n        console.log(e.target.value);\n    }\n\n    addIngredientsRow=()=>{\n       this.setState((prevState)=>({ingredients:[...prevState.ingredients, {name: \"\", age:\"\", unit:\"\"}],\n        }));\n    }\n\n    onChangeRemoveIngredients=(index)=>{\n        const NewIngredients = this.state.ingredients\n        NewIngredients.splice(index,1);\n        this.setState({ingredients: NewIngredients})\n    }\n\n    onChangeSteps=(e,index)=>{\n        const newSteps = this.state.steps;\n        newSteps[index] = e.target.value;\n        this.setState({ steps: newSteps });\n    }\n\n    addStepsRow=()=>{\n        this.setState((prevState)=>({steps:[...prevState.steps, \"\"],\n        }));\n    }\n\n    onChangeRemoveSteps=(index)=>{\n        this.state.steps.splice(index,1);\n        this.setState({steps: this.state.steps})\n    }\n\n    onImageUpload=(picture)=>{\n        this.setState({file: picture[0]});\n    }\n\n    onSelect=(selectedList, selectedItem)=>{\n        const newCategories = this.state.categories;\n        newCategories.push(selectedItem.id);\n        this.setState({categories: newCategories})\n        console.log(this.state.categories)\n    }\n     \n    onRemove=(selectedList, removedItem)=>{\n        const index = this.state.categories.findIndex((element) => element == removedItem.id)\n        this.state.categories.splice(index,1);\n        this.setState({categories: this.state.categories})\n    }\n\n    onSubmit=async(e,app)=>{\n        e.preventDefault();\n        addRecipe(this,app);\n    }\n\n    render(){ \n        const { app } = this.props;\n\n        return(\n            <div>\n            <Container maxWidth='md'>\n                <Navbar app={app}/>\n                <form onSubmit = {this.onSubmit} className=\"add-recipe\">\n                    <b>Create A Recipe</b>\n                    <div className = \"Recipe-form\">\n                        <label> Recipe Name: </label>\n                        <input \n                            type = \"Name\" \n                            required \n                            placeholder=\"Your Recipe Name\" \n                            className = \"form-control\" \n                            value = {this.state.name} \n                            onChange={this.onChangeRecipeName}\n                        />\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label> Recipe Description: </label>\n                        <input \n                            type = \"Description\" \n                            required\n                            placeholder=\"Enter description for your recipe\" \n                            className = \"form-control\" \n                            value = {this.state.description} \n                            onChange={this.onChangeDescription}\n                        />\n                    </div>\n                    <div className=\"Recipe-form\">\n                        <label>Cuisine Type: </label>\n                        <Multiselect\n                            placeholder = \"Select cuisine type(s)\"\n                            options={this.state.categoriesOptions}  \n                            onSelect={this.onSelect} \n                            onRemove={this.onRemove}\n                            displayValue=\"name\" \n                        />    \n                    </div>\n                    <div className = \"Ingredient-form\" >\n                        <label> Recipe Ingredients: </label>\n                         {\n                            this.state.ingredients.map((Ingredient, index) => {\n                                return(\n                                    <div className=\"row\" id=\"Ingredient-row\" key={index}>\n                                        <Col className=\"col\" xs={5}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"name\"\n                                                className = \"form-control\"\n                                                value = {Ingredient.name} \n                                                onChange={(e)=>this.onChangeIngredientsName(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={2}>\n                                            <input \n                                                type = \"Ingredients\" \n                                                required \n                                                placeholder=\"quantity\"\n                                                className = \"form-control\" \n                                                value = {Ingredient.quantity} \n                                                onChange={(e)=>this.onChangeIngredientsQuan(e,index)}\n                                            />\n                                        </Col>\n                                        <Col className=\"col\" xs={3}>\n                                            <select class=\"form-control \"name=\"units\" id=\"units\" onChange={(e)=>this.onSelectIngredientsUnit(e,index)}>\n                                                <option value={UnitType[0]}>{UnitType[0]}</option>\n                                                <option value={UnitType[1]}>{UnitType[1]}</option>\n                                                <option value={UnitType[2]}>{UnitType[2]}</option>\n                                                <option value={UnitType[3]}>{UnitType[3]}</option>\n                                                <option value={UnitType[4]}>{UnitType[4]}</option>\n                                                <option value={UnitType[5]}>{UnitType[5]}</option>\n                                                <option value={UnitType[6]}>{UnitType[6]}</option>\n                                                <option value={UnitType[7]}>{UnitType[7]}</option>\n                                                <option value={UnitType[8]}>{UnitType[8]}</option>\n                                                <option value={UnitType[9]}>{UnitType[9]}</option>\n                                                <option value={UnitType[10]}>{UnitType[10]}</option>\n                                                <option value={UnitType[11]}>{UnitType[11]}</option>\n                                            </select>                                            \n                                        </Col>\n                                        <Col className =\"col\" xs={1}>\n                                            <button \n                                                id=\"remove-ingredient\"\n                                                type=\"button\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveIngredients(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        } \n                    </div>\n                    <div className=\"AddIngredient-btn\">\n                        <button id=\"add-ingredient\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addIngredientsRow} >\n                            Add Ingredients\n                        </button>\n                    </div>\n                    <div className = \"Step-form\">\n                        <label> Recipe Steps: </label>\n                        {\n                            this.state.steps.map((step, index) => {\n                                return(\n                                    <div className=\"row\" key={index}>\n                                        <Col className = \"col\" xs = {10}>\n                                            <textarea \n                                                type = \"Steps\" \n                                                required \n                                                placeholder=\"Enter a step\"\n                                                className = \"form-control\" \n                                                value = {step} \n                                                onChange={(e)=>this.onChangeSteps(e,(index))}\n                                            />\n                                        </Col>\n                                        <Col className =\"col\">\n                                            <button \n                                                id=\"remove-step\"\n                                                type=\"button\"\n                                                className = \"btn btn-outline-primary\" \n                                                onClick={(e)=>this.onChangeRemoveSteps(index)}>Remove</button>\n                                        </Col>\n                                    </div>\n                                )})\n                        }\n                        \n                    </div>\n                    <div className=\"AddSteps-btn\">\n                        <button id = \"add-step\" className = \"btn btn-outline-primary\" type = \"button\" onClick={this.addStepsRow} >\n                            Add Steps\n                        </button> \n                    </div>\n                    <div className = \"Recipe-form\">\n                        <label>Please upload a picture of your recipe: </label>\n                        <div>\n                            <ImageUploader\n                                withIcon = {false}\n                                withPreview = {true}\n                                singleImage = {true}\n                                buttonText = 'Upload a picture for your recipe'\n                                onChange={this.onImageUpload}\n                                imgExtension={['.jpg', '.png', '.JPG', '.PNG']}\n                                maxFileSize={5242880}\n                            />\n                        </div>\n                    </div>\n                    <div className = \"Recipe-form\">\n                        <input \n                            type = \"Submit\" \n                            value = \"Submit New Recipe\" \n                            className = \"btn btn-primary\" \n                        />\n                    </div>\n                </form>\n            </Container>\n            </div>\n        )\n    }\n} \n"]},"metadata":{},"sourceType":"module"}