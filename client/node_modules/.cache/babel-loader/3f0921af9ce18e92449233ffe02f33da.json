{"ast":null,"code":"import _classCallCheck from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/FrankChen/csc309/tp/team07/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from\"@material-ui/core/Container\";import'./viewProfile.css';import Navbar from\"../Navbar/navbar.component\";import ReceipeList from'../recipelist/recipelist.component';import Avatar from'react-avatar';import{Collapse}from'react-bootstrap';// hard coded images\nimport ProfilePic from'./default-profile-pic.png';import recipe1 from'../../recipes/butter-chicken.jpg';import recipe2 from'../../recipes/lemon-zucchini-bread.jpg';import recipe3 from'../../recipes/ramen.jpg';import recipe4 from'../../recipes/vanilla-cake.png';import recipe5 from'../../recipes/spaghetti.png';import recipe6 from'../../recipes/apple-pie.png';import recipe7 from'../../recipes/homemade-pizza.png';import recipe8 from'../../recipes/greek-salad.png';import recipe9 from'../../recipes/seafood-sandwiches.png';import recipe10 from'../../recipes/seafood-stew.png';import recipe11 from'../../recipes/Chicken-Noodle-Soup.jpg';import{FaRegEdit}from\"react-icons/fa\";var user_lst=[{uid:0,username:\"admin\",name:\"Nora\",description:\"I love Chinese Food!!!\",isAdmin:true},{uid:1,username:\"user\",name:\"Catherine\",description:\"I love baking!!!\",isAdmin:false},{uid:127,username:\"raon\",name:\"Raon\",description:\"I love blahblah!!!\",isAdmin:false}];var ViewProfile=/*#__PURE__*/function(_Component){_inherits(ViewProfile,_Component);var _super=_createSuper(ViewProfile);function ViewProfile(props){var _this2=this;var _this;_classCallCheck(this,ViewProfile);_this=_super.call(this,props);// requires server calls to fetch the recipes info and user profile info\n_this.handleRecipeExpandClick=function(){if(_this.state.recipeExpanded){_this.setState({recipeExpanded:false});}else{_this.setState({recipeExpanded:true});}};_this.handleCollectionExpandClick=function(){if(_this.state.collectionExpanded){_this.setState({collectionExpanded:false});}else{_this.setState({collectionExpanded:true});}};_this.clickHeart=function(rid){// need to update the information into database\nvar new_recipes=_this.state.recipes;_this.state.recipes.forEach(function(recipe,idx){if(recipe.id===rid){if(recipe.liked){new_recipes[idx].liked=false;new_recipes[idx].likes--;_this.setState({recipes:new_recipes});}else{new_recipes[idx].liked=true;new_recipes[idx].likes++;_this.setState({recipes:new_recipes});}}});// console.log(this.state.recipes)\n};_this.clickStar=function(rid){// need to update the information into database\nvar new_recipes=_this.state.recipes;_this.state.recipes.forEach(function(recipe,idx){if(recipe.id===rid){if(recipe.collected){new_recipes[idx].collected=false;_this.setState({recipes:new_recipes});}else{new_recipes[idx].collected=true;_this.setState({recipes:new_recipes});}}});console.log(_this.state.recipes);};_this.editprofile=function(e){e.preventDefault();window.location=\"/editprofile/\"+_this.state.uid;};_this.editButtonGenerator=function(){if(_this.state.uid===_this.state.curruid){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.editprofile},/*#__PURE__*/React.createElement(FaRegEdit,null),\"Edit Profile\");}return null;};_this.RecipeExpandButtonGenerator=function(){if(_this.state.recipeExpanded){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleRecipeExpandClick},\"Collapse\");}else{return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleRecipeExpandClick},\"View\");}};_this.CollectionExpandButtonGenerator=function(){if(_this.state.collectionExpanded){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleCollectionExpandClick},\"Collapse\");}else{return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:_this.handleCollectionExpandClick},\"View\");}};_this.clickRecipe=function(userid,rid){window.location=\"/viewrecipe/\"+userid+\"/\"+rid;};_this.CollectionRecipeGenerator=function(){if(_this.state.recipeExpanded){return/*#__PURE__*/React.createElement(\"div\",{id:\"collection-recipeswithEx\"},/*#__PURE__*/React.createElement(\"h4\",null,\"My Collection\",/*#__PURE__*/React.createElement(_this2.CollectionExpandButtonGenerator,null)),/*#__PURE__*/React.createElement(Collapse,{in:_this.state.collectionExpanded},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(ReceipeList,{recipes:_this.state.collectRecipes,clickHeart:_this.clickHeart,clickStar:_this.clickStar,clickRecipe:_this.clickRecipe,userid:_this.state.curruid}))));}else if(!_this.state.recipeExpanded){return/*#__PURE__*/React.createElement(\"div\",{id:\"collection-recipes\"},/*#__PURE__*/React.createElement(\"h4\",null,\"My Collection\",/*#__PURE__*/React.createElement(_this2.CollectionExpandButtonGenerator,null)),/*#__PURE__*/React.createElement(Collapse,{in:_this.state.collectionExpanded},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(ReceipeList,{recipes:_this.state.collectRecipes,clickHeart:_this.clickHeart,clickStar:_this.clickStar,clickRecipe:_this.clickRecipe,userid:_this.state.curruid}))));}};_this.state={uid:_this.props.match.params.uid,user:user_lst.find(function(usr){return usr.uid===parseInt(_this.props.match.params.uid);}),userpicture:{src:ProfilePic},recipes:[{id:4,src:recipe5,liked:false,collected:false,title:'Homemade Spaghetti',likes:65,categories:[1]},{id:5,src:recipe6,liked:false,collected:false,title:'Apple Pie',likes:63,categories:[2]},{id:6,src:recipe7,liked:false,collected:false,title:'Homemade Pizza',likes:62,categories:[3]},{id:7,src:recipe8,liked:false,collected:false,title:'Greek Salad',likes:60,categories:[4]},{id:8,src:recipe9,liked:false,collected:false,title:'Seafood Sandwiches',likes:58,categories:[5,6]},{id:9,src:recipe10,liked:false,collected:false,title:'Spicy seafood stew',likes:50,categories:[6,7]},{id:10,src:recipe11,liked:false,collected:false,title:'Chicken Noodle Soup',likes:47,categories:[7]}],collectRecipes:[{id:0,src:recipe1,liked:false,collected:false,title:'Butter Chicken',likes:123,categories:[7]},{id:1,src:recipe2,liked:false,collected:false,title:'Lemon Zucchini Bread',likes:100,categories:[0]},{id:2,src:recipe3,liked:false,collected:false,title:'Ramen',likes:98,categories:[1]},{id:3,src:recipe4,liked:false,collected:false,title:'Vanilla Cake',likes:76,categories:[0]},{id:4,src:recipe5,liked:false,collected:false,title:'Homemade Spaghetti',likes:65,categories:[1]},{id:5,src:recipe6,liked:false,collected:false,title:'Apple Pie',likes:63,categories:[2]},{id:6,src:recipe7,liked:false,collected:false,title:'Homemade Pizza',likes:62,categories:[3]},{id:7,src:recipe8,liked:false,collected:false,title:'Greek Salad',likes:60,categories:[4]}],curruid:_this.props.match.params.curruid,recipeExpanded:false,collectionExpanded:false};return _this;}_createClass(ViewProfile,[{key:\"componentDidMount\",value:function componentDidMount(){// requires server calls to initialize recipes and user profile\n}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.match.params.uid!==this.props.match.params.uid){var currUid=nextProps.match.params.uid;var currUser=user_lst.find(parseInt(function(usr){return usr.uid;})===currUid);this.setState({uid:currUid,user:currUser});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\"},/*#__PURE__*/React.createElement(Navbar,{uid:this.state.curruid}),/*#__PURE__*/React.createElement(\"div\",{id:\"user-profile\"},/*#__PURE__*/React.createElement(\"h4\",null,this.state.user.name+\"'s Profile\"),/*#__PURE__*/React.createElement(Avatar,{id:\"user-picture\",name:\"user\",size:\"150\",round:true,src:this.state.userpicture.src}),/*#__PURE__*/React.createElement(\"div\",null,this.state.user.description),/*#__PURE__*/React.createElement(this.editButtonGenerator,null)),/*#__PURE__*/React.createElement(\"div\",{id:\"user-recipes\"},/*#__PURE__*/React.createElement(\"h4\",null,\"My Recipes\",/*#__PURE__*/React.createElement(this.RecipeExpandButtonGenerator,null)),/*#__PURE__*/React.createElement(Collapse,{in:this.state.recipeExpanded},/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(ReceipeList,{recipes:this.state.recipes,clickHeart:this.clickHeart,clickStar:this.clickStar,clickRecipe:this.clickRecipe,userid:this.state.curruid})))),/*#__PURE__*/React.createElement(this.CollectionRecipeGenerator,null)));}}]);return ViewProfile;}(Component);export{ViewProfile as default};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/components/viewProfile/viewProfile.component.js"],"names":["React","Component","Container","Navbar","ReceipeList","Avatar","Collapse","ProfilePic","recipe1","recipe2","recipe3","recipe4","recipe5","recipe6","recipe7","recipe8","recipe9","recipe10","recipe11","FaRegEdit","user_lst","uid","username","name","description","isAdmin","ViewProfile","props","handleRecipeExpandClick","state","recipeExpanded","setState","handleCollectionExpandClick","collectionExpanded","clickHeart","rid","new_recipes","recipes","forEach","recipe","idx","id","liked","likes","clickStar","collected","console","log","editprofile","e","preventDefault","window","location","editButtonGenerator","curruid","RecipeExpandButtonGenerator","CollectionExpandButtonGenerator","clickRecipe","userid","CollectionRecipeGenerator","collectRecipes","match","params","user","find","usr","parseInt","userpicture","src","title","categories","nextProps","currUid","currUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Container from \"@material-ui/core/Container\"\nimport './viewProfile.css'\nimport Navbar from \"../Navbar/navbar.component\"\nimport ReceipeList from '../recipelist/recipelist.component'\nimport Avatar from 'react-avatar';\nimport {Collapse} from 'react-bootstrap'\n\n// hard coded images\nimport ProfilePic from'./default-profile-pic.png' \nimport recipe1 from '../../recipes/butter-chicken.jpg'\nimport recipe2 from '../../recipes/lemon-zucchini-bread.jpg'\nimport recipe3 from '../../recipes/ramen.jpg'\nimport recipe4 from '../../recipes/vanilla-cake.png'\nimport recipe5 from '../../recipes/spaghetti.png'\nimport recipe6 from '../../recipes/apple-pie.png'\nimport recipe7 from '../../recipes/homemade-pizza.png'\nimport recipe8 from '../../recipes/greek-salad.png'\nimport recipe9 from '../../recipes/seafood-sandwiches.png'\nimport recipe10 from '../../recipes/seafood-stew.png'\nimport recipe11 from '../../recipes/Chicken-Noodle-Soup.jpg'\nimport { FaRegEdit } from \"react-icons/fa\";\n\nconst user_lst = [\n    {uid: 0, username: \"admin\", name: \"Nora\", description: \"I love Chinese Food!!!\", isAdmin: true},\n    {uid: 1, username: \"user\", name: \"Catherine\", description: \"I love baking!!!\", isAdmin: false},\n    {uid: 127, username: \"raon\", name: \"Raon\", description: \"I love blahblah!!!\", isAdmin: false}\n    ]\n\nexport default class ViewProfile extends Component {\n    constructor(props){\n        super(props);\n        \n        // requires server calls to fetch the recipes info and user profile info\n        this.state = {\n            uid: this.props.match.params.uid,\n            user: user_lst.find(usr=>usr.uid === parseInt(this.props.match.params.uid)),\n            userpicture: {src: ProfilePic},\n            recipes: [\n                {id:4, src:recipe5, liked: false, collected: false, title:'Homemade Spaghetti', likes:65, categories:[1]},\n                {id:5, src:recipe6, liked: false, collected: false, title:'Apple Pie', likes:63, categories:[2]},\n                {id:6, src:recipe7, liked: false, collected: false, title:'Homemade Pizza', likes:62, categories:[3]},\n                {id:7, src:recipe8, liked: false, collected: false, title:'Greek Salad', likes:60, categories:[4]},\n                {id:8, src:recipe9, liked: false, collected: false, title:'Seafood Sandwiches', likes:58, categories:[5, 6]},\n                {id:9, src:recipe10, liked: false, collected: false, title:'Spicy seafood stew', likes:50, categories:[6, 7]},\n                {id:10, src:recipe11, liked: false, collected: false, title:'Chicken Noodle Soup', likes:47, categories:[7]}\n            ],\n            collectRecipes:[{id:0, src:recipe1, liked: false, collected: false, title:'Butter Chicken', likes: 123, categories:[7]},\n            {id:1, src:recipe2, liked: false, collected: false, title:'Lemon Zucchini Bread', likes: 100, categories:[0]},\n            {id:2, src:recipe3, liked: false, collected: false, title:'Ramen', likes:98, categories:[1]},\n            {id:3, src:recipe4, liked: false, collected: false, title:'Vanilla Cake', likes:76, categories:[0]},\n            {id:4, src:recipe5, liked: false, collected: false, title:'Homemade Spaghetti', likes:65, categories:[1]},\n            {id:5, src:recipe6, liked: false, collected: false, title:'Apple Pie', likes:63, categories:[2]},\n            {id:6, src:recipe7, liked: false, collected: false, title:'Homemade Pizza', likes:62, categories:[3]},\n            {id:7, src:recipe8, liked: false, collected: false, title:'Greek Salad', likes:60, categories:[4]}],\n            curruid: this.props.match.params.curruid,\n            recipeExpanded: false,\n            collectionExpanded: false,\n        }\n    }\n\n\n    componentDidMount() {\n        // requires server calls to initialize recipes and user profile\n    }\n\n    handleRecipeExpandClick = () => {\n        if(this.state.recipeExpanded){\n            this.setState({ recipeExpanded: false });\n        }else{\n            this.setState({ recipeExpanded: true });\n        }\n    }\n    handleCollectionExpandClick= () => {\n        if(this.state.collectionExpanded){\n            this.setState({ collectionExpanded: false });\n        }else{\n            this.setState({ collectionExpanded: true });\n        }\n    }\n\n     clickHeart=(rid)=>{\n        // need to update the information into database\n        let new_recipes = this.state.recipes;\n        this.state.recipes.forEach((recipe, idx)=>{\n            if(recipe.id === rid){\n                if(recipe.liked){\n                    new_recipes[idx].liked = false;\n                    new_recipes[idx].likes--;\n                    this.setState({ recipes: new_recipes });\n                }else{\n                    new_recipes[idx].liked = true;\n                    new_recipes[idx].likes++;\n                    this.setState({ recipes: new_recipes });\n                }\n            }\n        })\n        // console.log(this.state.recipes)\n    }\n\n    clickStar=(rid)=>{\n        // need to update the information into database\n        let new_recipes = this.state.recipes;\n        this.state.recipes.forEach((recipe, idx)=>{\n            if(recipe.id === rid){\n                if(recipe.collected){\n                    new_recipes[idx].collected = false;\n                    this.setState({ recipes: new_recipes });\n                }else{\n                    new_recipes[idx].collected = true;\n                    this.setState({ recipes: new_recipes });\n                }\n            }\n        })\n        console.log(this.state.recipes)\n    }\n\n    editprofile=(e)=>{\n        e.preventDefault();\n        window.location = \"/editprofile/\"+this.state.uid;\n    }\n\n    editButtonGenerator=()=>{\n        if (this.state.uid === this.state.curruid){\n            return <button type=\"button\"\n                    className = \"btn btn-outline-primary\"\n                    onClick={this.editprofile}>\n                    <FaRegEdit/>\n                    Edit Profile\n                    </button>  \n        }\n        return null\n    }\n\n    RecipeExpandButtonGenerator=()=>{\n        if(this.state.recipeExpanded){\n            return <button type=\"button\"\n                    className = \"btn btn-outline-primary\" \n                    onClick={this.handleRecipeExpandClick}>\n                    Collapse \n                    </button>\n        }else{\n            return <button type=\"button\"\n            className = \"btn btn-outline-primary\" \n            onClick={this.handleRecipeExpandClick}>\n            View \n            </button>\n        }\n    }\n\n    CollectionExpandButtonGenerator=()=>{\n       if(this.state.collectionExpanded){\n            return <button type=\"button\"\n                    className = \"btn btn-outline-primary\" \n                    onClick={this.handleCollectionExpandClick}>\n                    Collapse \n                    </button>\n        }else{\n            return <button type=\"button\"\n                    className = \"btn btn-outline-primary\" \n                    onClick={this.handleCollectionExpandClick}>\n                    View \n                    </button>\n        }\n    }\n    \n    componentWillReceiveProps(nextProps){\n        if (nextProps.match.params.uid !== this.props.match.params.uid){\n            const currUid = nextProps.match.params.uid\n            const currUser = user_lst.find(parseInt(usr=>usr.uid) === currUid)\n            this.setState({\n                uid: currUid,\n                user: currUser\n            })\n        }\n    }\n\n    clickRecipe=(userid,rid)=>{\n        window.location = \"/viewrecipe/\"+ userid + \"/\" + rid;\n    }\n\n    CollectionRecipeGenerator=()=>{\n        if(this.state.recipeExpanded){\n            return <div id=\"collection-recipeswithEx\">\n                <h4>My Collection\n                <this.CollectionExpandButtonGenerator/>\n                </h4>\n                <Collapse in={this.state.collectionExpanded}>\n                    <div className=\"recipe-list\">\n                        <ReceipeList   \n                            recipes={this.state.collectRecipes}\n                            clickHeart={this.clickHeart}\n                            clickStar={this.clickStar}\n                            clickRecipe = {this.clickRecipe}\n                            userid={this.state.curruid}\n                        />    \n                    </div>\n                    \n                </Collapse> \n            </div>\n        }else if(!this.state.recipeExpanded){\n            return <div id=\"collection-recipes\">\n                    <h4>My Collection\n                    <this.CollectionExpandButtonGenerator/>\n                    </h4>\n                    <Collapse in={this.state.collectionExpanded}>\n                        <div className=\"recipe-list\">\n                            <ReceipeList   \n                                recipes={this.state.collectRecipes}\n                                clickHeart={this.clickHeart}\n                                clickStar={this.clickStar}\n                                clickRecipe = {this.clickRecipe}\n                                userid={this.state.curruid}\n                            />    \n                        </div>\n                        \n                    </Collapse> \n                </div>\n        }\n    }\n\n    render(){\n        return(\n            <div>\n            <Container maxWidth='md'>\n                <Navbar uid={this.state.curruid}/>\n                <div id=\"user-profile\">\n                    <h4>{this.state.user.name + \"'s Profile\"}</h4>\n                    <Avatar id=\"user-picture\" name=\"user\" size=\"150\" round={true} src={this.state.userpicture.src}/> \n                    <div>{this.state.user.description}</div>\n                    <this.editButtonGenerator/>\n                </div>\n                \n                \n                <div id=\"user-recipes\">\n                    <h4>My Recipes\n                    <this.RecipeExpandButtonGenerator/>\n                    </h4>\n                    <Collapse in={this.state.recipeExpanded}>\n                        <div className=\"recipe-list\">\n                            <ReceipeList   \n                                recipes={this.state.recipes}\n                                clickHeart={this.clickHeart}\n                                clickStar={this.clickStar}\n                                clickRecipe = {this.clickRecipe}\n                                userid={this.state.curruid}\n                            />    \n                        </div>\n                    </Collapse>\n                </div>\n                <this.CollectionRecipeGenerator/>\n            </Container>\n            </div> \n        )\n    }\n} "]},"metadata":{},"sourceType":"module"}