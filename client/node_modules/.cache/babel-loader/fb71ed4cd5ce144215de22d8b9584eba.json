{"ast":null,"code":"export var getMyRecipe=function getMyRecipe(viewProfileComp){var myRecipes=[];viewProfileComp.user.myRecipes.forEach(function(rid){var request=new Request(\"/api/recipes/\".concat(rid),{method:\"get\",headers:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"}});fetch(request).then(function(res){if(res.status===200){return res.json();}}).then(function(json){console.log(json);myRecipes.push(json);}).catch(function(error){console.log(error);});});viewProfileComp.setState({recipes:myRecipes});};export var getMyCollection=function getMyCollection(viewProfileComp){var myCollectedRecipes=[];viewProfileComp.user.collectedRecipes.forEach(function(rid){var request=new Request(\"/api/recipes/\".concat(rid),{method:\"get\",headers:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"}});fetch(request).then(function(res){if(res.status===200){return res.json();}}).then(function(json){console.log(json);myCollectedRecipes.push(json);}).catch(function(error){console.log(error);});});viewProfileComp.setState({collectedRecipes:myCollectedRecipes});};export var addRecipe=function addRecipe(newRecipeComp){var newRecipe={};newRecipe.creator=newRecipeComp.state.creator;newRecipe.name=newRecipeComp.state.name;newRecipe.ingredients=newRecipeComp.state.ingredients;newRecipe.steps=newRecipeComp.state.steps;newRecipe.description=newRecipeComp.state.description;newRecipe.filePath=newRecipeComp.state.filePath;newRecipe.categories=newRecipeComp.state.categories;console.log(\"state ready to send a request:\");console.log(newRecipe);var request=new Request(\"/api/recipes\",{method:\"post\",body:JSON.stringify(newRecipe),headers:{Accept:\"application/json, text/plain, */*\",'Content-Type':'multipart/form-data'}});// send the request with fetch()\nfetch(request).then(function(res){if(res.status===200){return res.json();}}).then(function(json){console.log(json);alert(\"Added A New Recipe!\");}).catch(function(error){alert(\"Could not Add Recipe!\");console.log(error);});};export var getRecipe=function getRecipe(comp,rid){var request=new Request(\"/api/recipes/\".concat(rid),{method:\"get\",headers:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"}});fetch(request).then(function(res){if(res.status===200){return res.json();}}).then(function(json){console.log(json);comp.setState({recipe:json});}).catch(function(error){console.log(error);});};export var deleteRecipe=function deleteRecipe(rid){var request=new Request(\"/api/recipes/\".concat(rid),{method:\"delete\",headers:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"}});fetch(request).then(function(res){if(res.status===200){return res.json();}}).then(function(json){console.log(json);}).catch(function(error){console.log(error);});};export var getAllRecipes=function getAllRecipes(comp){var request=new Request(\"/api/recipes\",{method:\"get\",headers:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":\"application/json\"}});fetch(request).then(function(res){if(res.status===200){return res.json();}}).then(function(json){console.log(json);comp.setState({recipes:json.recipes});comp.setState({displayed_recipes:json.recipes});comp.setState({top3_recipe:[0,1,2]});}).catch(function(error){console.log(error);});};export var getTopRecipes=function getTopRecipes(){};export var updateLikes=function updateLikes(){};","map":{"version":3,"sources":["/Users/FrankChen/csc309/tp/team07/client/src/actions/recipe.js"],"names":["getMyRecipe","viewProfileComp","myRecipes","user","forEach","rid","request","Request","method","headers","Accept","fetch","then","res","status","json","console","log","push","catch","error","setState","recipes","getMyCollection","myCollectedRecipes","collectedRecipes","addRecipe","newRecipeComp","newRecipe","creator","state","name","ingredients","steps","description","filePath","categories","body","JSON","stringify","alert","getRecipe","comp","recipe","deleteRecipe","getAllRecipes","displayed_recipes","top3_recipe","getTopRecipes","updateLikes"],"mappings":"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","sourcesContent":["export const getMyRecipe = (viewProfileComp) => {\n    const myRecipes = []\n    viewProfileComp.user.myRecipes.forEach(rid => {\n        const request = new Request(`/api/recipes/${rid}`, {\n            method: \"get\",\n            headers: {\n                Accept: \"application/json, text/plain, */*\",\n                \"Content-Type\": \"application/json\"\n            }\n        })\n    \n        fetch(request)\n            .then(res=>{\n                if(res.status === 200){\n                    return res.json();\n                }\n            })\n            .then(json=>{\n                console.log(json)\n                myRecipes.push(json)\n            })\n            .catch(error=>{\n                console.log(error);\n            })\n        \n    });\n    viewProfileComp.setState({recipes: myRecipes})  \n}\n\nexport const getMyCollection = (viewProfileComp) => {\n    const myCollectedRecipes = []\n    viewProfileComp.user.collectedRecipes.forEach(rid => {\n        const request = new Request(`/api/recipes/${rid}`, {\n            method: \"get\",\n            headers: {\n                Accept: \"application/json, text/plain, */*\",\n                \"Content-Type\": \"application/json\"\n            }\n        })\n    \n        fetch(request)\n            .then(res=>{\n                if(res.status === 200){\n                    return res.json();\n                }\n            })\n            .then(json=>{\n                console.log(json)\n                myCollectedRecipes.push(json)\n            })\n            .catch(error=>{\n                console.log(error);\n            })\n        \n    });\n    viewProfileComp.setState({collectedRecipes: myCollectedRecipes})\n}\n\n\nexport const addRecipe = (newRecipeComp) => {\n    const newRecipe = {};\n    newRecipe.creator = newRecipeComp.state.creator;\n    newRecipe.name = newRecipeComp.state.name;\n    newRecipe.ingredients = newRecipeComp.state.ingredients;\n    newRecipe.steps = newRecipeComp.state.steps;\n    newRecipe.description = newRecipeComp.state.description;\n    newRecipe.filePath = newRecipeComp.state.filePath;\n    newRecipe.categories = newRecipeComp.state.categories;\n\n    console.log(\"state ready to send a request:\");\n    console.log(newRecipe);\n\n    const request = new Request(\"/api/recipes\", {\n        method: \"post\",\n        body: JSON.stringify(newRecipe),\n        headers: {\n            Accept: \"application/json, text/plain, */*\",\n            'Content-Type': 'multipart/form-data'\n        }\n    })\n\n    // send the request with fetch()\n    fetch(request)\n        .then(res=>{\n            if(res.status === 200){\n                return res.json();\n            }\n        })\n        .then(json=>{\n            console.log(json)\n            alert(\"Added A New Recipe!\");\n        })\n        .catch(error=>{\n            alert(\"Could not Add Recipe!\");\n            console.log(error);\n        })\n}\n\nexport const getRecipe = (comp, rid) => {\n    const request = new Request(`/api/recipes/${rid}`, {\n        method: \"get\",\n        headers: {\n            Accept: \"application/json, text/plain, */*\",\n            \"Content-Type\": \"application/json\"\n        }\n    })\n\n    fetch(request)\n        .then(res=>{\n            if(res.status === 200){\n                return res.json();\n            }\n        })\n        .then(json=>{\n            console.log(json)\n            comp.setState({recipe: json})\n        })\n        .catch(error=>{\n            console.log(error);\n        })\n}\n\nexport const deleteRecipe = (rid) => {\n    const request = new Request(`/api/recipes/${rid}`, {\n        method: \"delete\",\n        headers: {\n            Accept: \"application/json, text/plain, */*\",\n            \"Content-Type\": \"application/json\"\n        }\n    })\n\n    fetch(request)\n        .then(res=>{\n            if(res.status === 200){\n                return res.json();\n            }\n        })\n        .then(json=>{\n            console.log(json)\n        })\n        .catch(error=>{\n            console.log(error);\n        })\n}\n\nexport const getAllRecipes = (comp)=>{\n    const request = new Request(`/api/recipes`, {\n        method: \"get\",\n        headers: {\n            Accept: \"application/json, text/plain, */*\",\n            \"Content-Type\": \"application/json\"\n        }\n    })\n\n    fetch(request)\n        .then(res=>{\n            if(res.status === 200){\n                return res.json();\n            }\n        })\n        .then(json=>{\n            console.log(json)\n            comp.setState({recipes: json.recipes})\n            comp.setState({displayed_recipes: json.recipes})\n            comp.setState({top3_recipe: [0,1,2]})\n        })\n        .catch(error=>{\n            console.log(error);\n        })\n}\n\nexport const getTopRecipes = ()=>{\n\n}\n\nexport const updateLikes = ()=>{\n\n}\n"]},"metadata":{},"sourceType":"module"}